import{r as c,c as _,g as nt,X as at,o as it,b as n,e as t,n as r,v as u,t as i,q as z,I as lt,L as dt,F as y,f as k,m as ct,i as a,l as v}from"./vendor.Bh3_gxHF.js";import{_ as rt,a as ut,d as vt,h as pt}from"./index.Cv61STol.js";const ft={class:"agent-profile-page"},gt={class:"nav-container"},mt={class:"tab-buttons"},ht={class:"profile-content"},_t={key:0,class:"profile-section"},yt={class:"section-header"},kt={class:"section-title"},bt={class:"info-container"},wt={class:"info-grid"},Ct={class:"info-item"},Tt={class:"info-value"},Dt={class:"info-item"},At={class:"info-value"},Nt={class:"info-item"},$t={class:"info-value"},Lt={class:"info-item"},Pt={class:"info-value"},It={class:"info-item"},Mt={class:"info-value"},St={class:"info-item"},Vt={class:"info-value"},xt={class:"info-item"},Bt={class:"info-value"},jt={class:"info-item"},Et={class:"info-value"},Ut={class:"profile-photo-container"},Ft=["src"],zt={key:1,class:"profile-section"},Xt={class:"search-filter-bar"},Rt={class:"search-container"},qt={class:"property-grid"},Jt={key:2,class:"profile-section"},Ht={class:"section-header"},Gt={class:"section-title"},Kt={key:0,class:"loading-state"},Qt={key:1,class:"documents-list"},Yt={class:"document-list-container"},Ot=["onClick"],Wt={class:"doc-header"},Zt=["title"],te={class:"doc-date"},ee={key:2,class:"empty-state"},se={key:3,class:"profile-section"},oe={class:"section-header"},ne={class:"section-title"},ae={class:"header-actions"},ie={key:0,class:"loading-state"},le={key:1,class:"connections-wrapper"},de={class:"connections-container"},ce={class:"connections-heading"},re={class:"connections-subheading"},ue={class:"connection-tabs"},ve={key:0},pe={key:0,class:"empty-connections"},fe={key:1,class:"agent-connection-list"},ge={class:"agent-card-avatar"},me=["src"],he={class:"agent-card-content"},_e={class:"agent-info"},ye={class:"agent-name"},ke={class:"agent-details"},be={class:"agent-location"},we={class:"agent-actions"},Ce=["onClick"],Te=["onClick"],De={key:1},Ae={key:0,class:"empty-connections"},Ne={key:1,class:"agent-connection-list"},$e={class:"agent-card-avatar"},Le=["src"],Pe={class:"agent-card-content"},Ie={class:"agent-info"},Me={class:"agent-name"},Se={class:"agent-details"},Ve={class:"agent-location"},xe={class:"agent-specialty"},Be={class:"agent-actions"},je=["onClick"],Ee=["onClick"],Ue={key:4,class:"profile-section"},Fe={class:"section-header"},ze={class:"section-title"},Xe={key:0,class:"loading-state"},Re={key:1,class:"tours-list"},qe={class:"tour-date"},Je={class:"tour-details"},He={class:"tour-property"},Ge={class:"tour-address"},Ke={class:"tour-time"},Qe={key:2,class:"empty-state"},Ye={key:5,class:"profile-section"},Oe={class:"section-header"},We={class:"section-title"},Ze={key:0,class:"loading-state"},ts={key:1,class:"tasks-list"},es={class:"task-details"},ss={class:"task-title"},os={class:"task-description"},ns={class:"task-date"},as={class:"task-actions"},is=["onClick"],ls={key:2,class:"empty-state"},ds={__name:"AgentProfileView",setup(cs){const X=["bio","listings","documents","connections","tours","tasks"],d=c("bio"),b=nt(),M=ct(),R=ut(),q=vt(),J=pt(),p=_(()=>parseInt(b.params.id)),l=_(()=>R.getAgentById(p.value)||{id:p.value,name:"Agent Not Found",title:"No Data Available",email:"",phone:"",avatar:"/images/default-avatar.jpg"});at("profileData",{name:_(()=>l.value.name),avatar:_(()=>l.value.avatar),title:_(()=>l.value.title||"Real Estate Agent")});const f=s=>{d.value=s,s==="documents"&&!C.value.length?S():s==="connections"&&!g.value.length&&!m.value.length?x():s==="tours"&&!T.value.length?j():s==="tasks"&&!D.value.length&&U()};it(()=>{b.query.tab&&X.includes(b.query.tab)&&(d.value=b.query.tab),console.log("Loading agent data for ID:",b.params.id),console.log("Agent data:",l.value),H()});const H=()=>{d.value==="documents"?S():d.value==="connections"?x():d.value==="tours"?j():d.value==="tasks"&&U()},A=c(""),G=()=>{console.log("Searching for:",A.value)},N=c(!1),C=c([]),S=async()=>{N.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),C.value=[{id:1,name:"Agent License",type:"license",createdAt:new Date(2023,5,15)},{id:2,name:"Agent Agreement",type:"agreement",createdAt:new Date(2023,8,22)},{id:3,name:"Property Listing Agreement",type:"listing",createdAt:new Date(2023,11,4)}]}catch(s){console.error("Error loading documents:",s)}finally{N.value=!1}},V=()=>{console.log("Uploading document for agent:",p.value),alert("Document upload functionality would be implemented here.")},K=s=>{console.log("Viewing document:",s),alert(`Viewing document ${s}`)},Q=s=>{const e={license:"License",agreement:"Agreement",listing:"Listing",default:"Document"};return e[s]||e.default},Y=(s,e)=>s.length<=e?s:s.slice(0,e)+"...",$=c(!1),g=c([]),O=_(()=>g.value),m=c([]),h=c("clients"),W=c(!1),x=async()=>{$.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),g.value=[{id:1,name:"John Doe",location:"Dallas, TX",profilePicture:"https://i.pravatar.cc/150?img=1",connectionId:101},{id:2,name:"Jane Smith",location:"Austin, TX",profilePicture:"https://i.pravatar.cc/150?img=5",connectionId:102}],m.value=[{id:3,name:"David Johnson",location:"Houston, TX",specialty:"Luxury Homes",avatar:"https://i.pravatar.cc/150?img=3",connectionId:103}]}catch(s){console.error("Error loading connections:",s)}finally{$.value=!1}},B=(s,e)=>{console.log(`${e} connection:`,s),g.value=g.value.filter(o=>o.connectionId!==s),m.value=m.value.filter(o=>o.connectionId!==s),alert(`Connection ${s} deactivated.`)},Z=s=>{console.log("Viewing client profile:",s),M.push(`/admin/client/${s}`)},tt=s=>{console.log("Viewing agent profile:",s),M.push(`/admin/agent/${s}`)},L=c(!1),T=c([]),j=async()=>{L.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),T.value=[{id:1,propertyName:"Cedar Grove Estates",propertyAddress:"123 Main St, Austin, TX",date:new Date(2023,11,15),startTime:"10:00 AM",endTime:"11:30 AM"},{id:2,propertyName:"Lakeside Manor",propertyAddress:"456 Lake Dr, Dallas, TX",date:new Date(2023,11,18),startTime:"2:00 PM",endTime:"3:30 PM"}]}catch(s){console.error("Error loading tours:",s)}finally{L.value=!1}},E=()=>{console.log("Scheduling tour for agent:",p.value);const s=q.getAcceptedConnectionsByUserId(p.value,"agent").filter(e=>e.toType==="client"||e.fromType==="client").map(e=>{const o=e.fromType==="client"?e.fromId:e.toId;return J.getClientById(o)}).filter(Boolean);if(s.length===0){alert("This agent does not have any connected clients. Please establish connections first before scheduling tours.");return}alert(`You can schedule tours for ${s.length} connected clients with this agent.`)},et=(s,e)=>`${s} - ${e}`,P=c(!1),D=c([]),U=async()=>{P.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),D.value=[{id:1,title:"Update property listing",description:"Update the photos and description for property #1234",dueDate:new Date(2023,11,20),status:"pending"},{id:2,title:"Contact client",description:"Call John Doe about property viewing",dueDate:new Date(2023,11,15),status:"in-progress"},{id:3,title:"Prepare contract",description:"Prepare contract for Smith family purchase",dueDate:new Date(2023,11,30),status:"completed"}]}catch(s){console.error("Error loading tasks:",s)}finally{P.value=!1}},F=()=>{console.log("Creating task for agent:",p.value),alert("Task creation functionality would be implemented here.")},st=s=>{console.log("Viewing task details:",s),alert(`Viewing task ${s} details`)},ot=s=>s.charAt(0).toUpperCase()+s.slice(1),I=s=>s?(typeof s=="string"&&(s=new Date(s)),new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(s)):"N/A";return(s,e)=>(a(),n("div",ft,[t("div",gt,[t("div",mt,[t("button",{class:r(["tab-button",{active:d.value==="bio"}]),onClick:e[0]||(e[0]=o=>f("bio"))},"Bio",2),t("button",{class:r(["tab-button",{active:d.value==="listings"}]),onClick:e[1]||(e[1]=o=>f("listings"))},"Listings",2),t("button",{class:r(["tab-button",{active:d.value==="documents"}]),onClick:e[2]||(e[2]=o=>f("documents"))},"Documents",2),t("button",{class:r(["tab-button",{active:d.value==="connections"}]),onClick:e[3]||(e[3]=o=>f("connections"))},"Connections",2),t("button",{class:r(["tab-button",{active:d.value==="tours"}]),onClick:e[4]||(e[4]=o=>f("tours"))},"Tours",2),t("button",{class:r(["tab-button",{active:d.value==="tasks"}]),onClick:e[5]||(e[5]=o=>f("tasks"))},"Tasks",2)])]),t("div",ht,[d.value==="bio"?(a(),n("div",_t,[t("div",yt,[t("h2",kt,i(l.value.name)+" personal Information",1),e[10]||(e[10]=t("div",{class:"header-actions"},[t("button",{class:"edit-button"},"Edit profile as admin")],-1))]),t("div",bt,[t("div",wt,[t("div",Ct,[e[11]||(e[11]=t("div",{class:"info-label"},"Full name",-1)),t("div",Tt,i(l.value.name),1)]),t("div",Dt,[e[12]||(e[12]=t("div",{class:"info-label"},"Email",-1)),t("div",At,i(l.value.email),1)]),t("div",Nt,[e[13]||(e[13]=t("div",{class:"info-label"},"Phone number",-1)),t("div",$t,i(l.value.phone),1)]),t("div",Lt,[e[14]||(e[14]=t("div",{class:"info-label"},"Alternate phone number",-1)),t("div",Pt,i(l.value.alternatePhone||"Not provided"),1)]),t("div",It,[e[15]||(e[15]=t("div",{class:"info-label"},"Agency/Company name",-1)),t("div",Mt,i(l.value.companyName||"Real Estate Agency"),1)]),t("div",St,[e[16]||(e[16]=t("div",{class:"info-label"},"Agency/Company description",-1)),t("div",Vt,i(l.value.bio||"No description available"),1)]),t("div",xt,[e[17]||(e[17]=t("div",{class:"info-label"},"Specialties",-1)),t("div",Bt,i(l.value.specialties?l.value.specialties.join(", "):"Not specified"),1)]),t("div",jt,[e[18]||(e[18]=t("div",{class:"info-label"},"License Number",-1)),t("div",Et,i(l.value.licenseNumber||"Not provided"),1)])]),t("div",Ut,[t("img",{src:l.value.avatar||"/images/default-avatar.jpg",alt:"Large profile photo",class:"profile-photo"},null,8,Ft)])])])):u("",!0),d.value==="listings"?(a(),n("div",zt,[t("div",Xt,[t("div",Rt,[lt(t("input",{type:"text",placeholder:"Search...",class:"search-input","onUpdate:modelValue":e[6]||(e[6]=o=>A.value=o),onInput:G},null,544),[[dt,A.value]]),e[19]||(e[19]=t("span",{class:"search-shortcut"},"⌘ K",-1))]),e[20]||(e[20]=z('<div class="filter-dropdowns" data-v-f6d1a4f7><div class="filter-dropdown" data-v-f6d1a4f7><button class="dropdown-btn" data-v-f6d1a4f7> Price Range ($) <span class="dropdown-arrow" data-v-f6d1a4f7>▾</span></button></div><div class="filter-dropdown" data-v-f6d1a4f7><button class="dropdown-btn" data-v-f6d1a4f7> Bedrooms <span class="dropdown-arrow" data-v-f6d1a4f7>▾</span></button></div><div class="filter-dropdown" data-v-f6d1a4f7><button class="dropdown-btn" data-v-f6d1a4f7> Property type <span class="dropdown-arrow" data-v-f6d1a4f7>▾</span></button></div><div class="filter-dropdown" data-v-f6d1a4f7><button class="dropdown-btn" data-v-f6d1a4f7> Location <span class="dropdown-arrow" data-v-f6d1a4f7>▾</span></button></div></div>',1))]),t("div",qt,[(a(),n(y,null,k(3,o=>t("div",{key:o,class:"property-card"},e[21]||(e[21]=[z('<div class="property-image-container" data-v-f6d1a4f7><img src="https://res.cloudinary.com/dnuhjsckk/image/upload/v1718259997/house1_eogyom.jpg" alt="Property" class="property-image" data-v-f6d1a4f7></div><div class="property-content" data-v-f6d1a4f7><h3 class="property-title" data-v-f6d1a4f7>Cedar Grove Estates</h3><p class="property-location" data-v-f6d1a4f7>Austin, Texas</p><p class="property-price" data-v-f6d1a4f7>$25,000</p><button class="view-property-btn" data-v-f6d1a4f7>View property</button></div>',2)]))),64))])])):u("",!0),d.value==="documents"?(a(),n("div",Jt,[t("div",Ht,[t("h2",Gt,i(l.value.name)+"'s Documents",1),t("div",{class:"header-actions"},[t("button",{class:"edit-button",onClick:V},"Upload Document")])]),N.value?(a(),n("div",Kt,e[22]||(e[22]=[t("p",null,"Loading documents...",-1)]))):C.value.length>0?(a(),n("div",Qt,[e[23]||(e[23]=t("div",{class:"table-header"},[t("div",{class:"header-cell title"},"Title")],-1)),t("div",Yt,[(a(!0),n(y,null,k(C.value,o=>(a(),n("div",{key:o.id,class:"document-card",onClick:w=>K(o.id)},[t("div",Wt,[t("div",{class:r(["doc-badge",o.type])},i(Q(o.type||"default")),3)]),t("div",{class:"doc-name",title:o.name},i(Y(o.name||"Document",25)),9,Zt),t("div",te,i(I(o.createdAt)),1)],8,Ot))),128))])])):(a(),n("div",ee,[e[24]||(e[24]=t("p",null,"No documents found for this agent.",-1)),t("button",{class:"add-document-btn",onClick:V},"Upload New Document")]))])):u("",!0),d.value==="connections"?(a(),n("div",se,[t("div",oe,[t("h2",ne,i(l.value.name)+"'s Connections",1),t("div",ae,[t("button",{class:"edit-button",onClick:e[7]||(e[7]=o=>W.value=!0)},"Add Connection")])]),$.value?(a(),n("div",ie,e[25]||(e[25]=[t("p",null,"Loading connections...",-1)]))):(a(),n("div",le,[t("div",de,[t("h3",ce,i(l.value.name)+"'s Connections",1),t("p",re,"See all connections "+i(l.value.name)+" has made.",1),t("div",ue,[t("button",{class:r(["connection-tab-btn",{active:h.value==="clients"}]),onClick:e[8]||(e[8]=o=>h.value="clients")}," Clients ",2),t("button",{class:r(["connection-tab-btn",{active:h.value==="agents"}]),onClick:e[9]||(e[9]=o=>h.value="agents")}," Agents ",2)]),h.value==="clients"?(a(),n("div",ve,[g.value.length===0?(a(),n("div",pe,e[26]||(e[26]=[t("p",null,"No connected clients found.",-1)]))):(a(),n("div",fe,[(a(!0),n(y,null,k(O.value,o=>(a(),n("div",{key:o.id,class:"agent-connection-card"},[t("div",ge,[t("img",{src:o.profilePicture,alt:"Client avatar",class:"agent-avatar-img"},null,8,me)]),t("div",he,[t("div",_e,[t("h4",ye,i(o.name),1),t("div",ke,[t("div",be,[e[27]||(e[27]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t("circle",{cx:"12",cy:"10",r:"3"})],-1)),v(" "+i(o.location||"Not specified"),1)])])]),t("div",we,[t("button",{class:"view-profile-btn",onClick:w=>Z(o.id)},e[28]||(e[28]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1),v(" View profile ")]),8,Ce),t("button",{class:"deactivate-btn",onClick:w=>B(o.connectionId,"reject")},e[29]||(e[29]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1),v(" Deactivate ")]),8,Te)])])]))),128))]))])):u("",!0),h.value==="agents"?(a(),n("div",De,[m.value.length===0?(a(),n("div",Ae,e[30]||(e[30]=[t("p",null,"No connected agents found.",-1)]))):(a(),n("div",Ne,[(a(!0),n(y,null,k(m.value,o=>(a(),n("div",{key:o.id,class:"agent-connection-card"},[t("div",$e,[t("img",{src:o.avatar,alt:"Agent avatar",class:"agent-avatar-img"},null,8,Le)]),t("div",Pe,[t("div",Ie,[t("h4",Me,i(o.name),1),t("div",Se,[t("div",Ve,[e[31]||(e[31]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t("circle",{cx:"12",cy:"10",r:"3"})],-1)),v(" "+i(o.location||"Not specified"),1)]),t("div",xe,[e[32]||(e[32]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M20 7h-9m0 0l3 3m-3-3l3-3M11 17H2m0 0l3 3M2 17l3-3"})],-1)),v(" "+i(o.specialty||"Not specified"),1)])])]),t("div",Be,[t("button",{class:"view-profile-btn",onClick:w=>tt(o.id)},e[33]||(e[33]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1),v(" View profile ")]),8,je),t("button",{class:"deactivate-btn",onClick:w=>B(o.connectionId,"reject")},e[34]||(e[34]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1),v(" Deactivate ")]),8,Ee)])])]))),128))]))])):u("",!0)])]))])):u("",!0),d.value==="tours"?(a(),n("div",Ue,[t("div",Fe,[t("h2",ze,i(l.value.name)+"'s Property Tours",1),t("div",{class:"header-actions"},[t("button",{class:"edit-button",onClick:E},"Schedule Tour")])]),L.value?(a(),n("div",Xe,e[35]||(e[35]=[t("p",null,"Loading tours...",-1)]))):T.value.length>0?(a(),n("div",Re,[(a(!0),n(y,null,k(T.value,o=>(a(),n("div",{key:o.id,class:"tour-card"},[t("div",qe,i(I(o.date)),1),t("div",Je,[t("h3",He,i(o.propertyName||"Property Tour"),1),t("p",Ge,i(o.propertyAddress||"Address not specified"),1),t("div",Ke,i(et(o.startTime,o.endTime)),1)]),e[36]||(e[36]=t("div",{class:"tour-actions"},[t("button",{class:"view-details-btn"},"View Details")],-1))]))),128))])):(a(),n("div",Qe,[e[37]||(e[37]=t("p",null,"No property tours scheduled for this agent.",-1)),t("button",{class:"schedule-tour-btn",onClick:E},"Schedule Tour")]))])):u("",!0),d.value==="tasks"?(a(),n("div",Ye,[t("div",Oe,[t("h2",We,i(l.value.name)+"'s Tasks",1),t("div",{class:"header-actions"},[t("button",{class:"edit-button",onClick:F},"Create Task")])]),P.value?(a(),n("div",Ze,e[38]||(e[38]=[t("p",null,"Loading tasks...",-1)]))):D.value.length>0?(a(),n("div",ts,[(a(!0),n(y,null,k(D.value,o=>(a(),n("div",{key:o.id,class:"task-card"},[t("div",{class:r(["task-status",o.status])},i(ot(o.status)),3),t("div",es,[t("h3",ss,i(o.title),1),t("p",os,i(o.description),1),t("div",ns,"Due: "+i(I(o.dueDate)),1)]),t("div",as,[t("button",{class:"view-task-btn",onClick:w=>st(o.id)},"View Details",8,is)])]))),128))])):(a(),n("div",ls,[e[39]||(e[39]=t("p",null,"No tasks assigned to this agent.",-1)),t("button",{class:"create-task-btn",onClick:F},"Create Task")]))])):u("",!0)])]))}},vs=rt(ds,[["__scopeId","data-v-f6d1a4f7"]]);export{vs as default};
