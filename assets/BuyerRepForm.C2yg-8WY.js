import{r as g,c as r,b as i,e as s,y as v,j as b,m as B,i as l}from"./vendor.Bh3_gxHF.js";import{u as R}from"./documents.CHcazOjv.js";import{D as x}from"./DocumentForm.DC7CuWYx.js";import{L as q}from"./Loader.DRAEMdx-.js";import{_ as S,b as w}from"./index.Cv61STol.js";const D={class:"buyer-rep-form"},N={class:"form-card"},E={class:"card-header"},F={key:1,class:"form-title"},L={class:"card-content"},P={__name:"BuyerRepForm",setup(k){const u=B(),d=R(),n=w(),a=g(!0),m=r(()=>"/receipts-docs/view-docs"),p=r(()=>"/profile/documents"),y=r(()=>"/"),h=r(()=>n.currentRole==="admin"?m.value:n.currentRole==="agent"?p.value:y.value);setTimeout(()=>{a.value=!1},1e3);const f=[{name:"buyerName",label:"Buyer name",type:"text",placeholder:"Enter buyer's full name",required:!0},{name:"buyerEmail",label:"Buyer Email",type:"email",placeholder:"johndoe@gmail.com",required:!0},{name:"phoneNumber",label:"Phone Number",type:"tel",placeholder:"555-123-4567",required:!0},{name:"propertyType",label:"Property Type",type:"select",required:!0,options:["Single Family Home","Condo","Townhouse","Multi-Family","Land","Commercial"]},{name:"budgetRange",label:"Budget Range",type:"text",placeholder:"$200,000-$500,000",required:!0},{name:"additionalNotes",label:"Additional Notes/Requirements",type:"textarea",placeholder:"Any specific requirements?",required:!1},{name:"documents",label:"Upload Documents",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.jpg,.jpeg,.png,.gif,.tiff,.heic",multiple:!0,required:!1,placeholder:"Upload relevant documents (pre-approval letters, wish lists, etc.)"}],_=async e=>{try{const t=[];e.documents&&e.documents.length>0&&e.documents.forEach(o=>{var c;t.push({name:o.name||"Unnamed file",type:o.type||"application/octet-stream",size:o.size||0,lastModified:((c=o.file)==null?void 0:c.lastModified)||Date.now(),preview:o.preview||null})}),await d.saveBuyerRepDocument({...e,type:"buyer-rep",createdAt:new Date().toISOString(),files:t}),u.push(h.value)}catch(t){console.error("Error saving buyer rep document:",t)}};return(e,t)=>(l(),i("div",D,[s("div",N,[s("div",E,[a.value?(l(),v(q,{key:0,class:"title-loader"})):(l(),i("h2",F,"Buyer Rep"))]),s("div",L,[b(x,{fields:f,isLoading:a.value,onSubmit:_},null,8,["isLoading"])])])]))}},C=S(P,[["__scopeId","data-v-c007139b"]]);export{C as default};
