import{b as B,_ as A}from"./index.Cv61STol.js";import{r as v,c as k,w as g,y as w,i,b as c,v as $,e,I as S,L as x,F as R,f as L,t as p,n as M,J as j}from"./vendor.Bh3_gxHF.js";function ie(){const n=B();return{checkAccess:async a=>a.includes(n.currentRole),currentRole:n.currentRole,availableRoles:n.availableRoles,setRole:n.setRole}}const D={key:0,class:"agent-modal__overlay"},U={class:"agent-modal",role:"dialog","aria-modal":"true","aria-label":"Add User modal"},E={class:"agent-modal__header"},I={class:"agent-modal__search"},V={class:"agent-modal__list"},F=["onClick"],N={class:"agent-modal__agent-info"},Q=["src","alt"],T={class:"agent-modal__details"},Y={class:"agent-modal__name"},z={class:"agent-modal__email"},G={class:"agent-modal__radio"},J={__name:"AgentModal",props:{show:{type:Boolean,required:!0},agents:{type:Array,default:()=>[],required:!1},selectedAgents:{type:Array,default:()=>[]}},emits:["close","select","remove"],setup(n,{emit:m}){var _,u;const a=n,r=m,d=v(""),o=v([...a.selectedAgents]);console.log("AgentModal props:",{show:a.show,agentsCount:(_=a.agents)==null?void 0:_.length,selectedCount:(u=a.selectedAgents)==null?void 0:u.length});const h=s=>{s.target.src="https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},C=k(()=>{if(!d.value)return a.agents;const s=d.value.toLowerCase();return a.agents.filter(t=>{var l;return((l=t.name)==null?void 0:l.toLowerCase().includes(s))||t.email&&t.email.toLowerCase().includes(s)})}),y=s=>o.value.some(t=>t.id===s.id),f=s=>{const t=o.value.findIndex(l=>l.id===s.id);t===-1?o.value.push(s):o.value.splice(t,1)},b=()=>{r("select",o.value),r("close")};return g(()=>a.selectedAgents,s=>{o.value=[...s]},{deep:!0}),g(()=>a.show,s=>{s&&(o.value=[...a.selectedAgents])}),(s,t)=>(i(),w(j,{to:"body"},[n.show?(i(),c("div",D,[e("div",U,[e("div",E,[t[2]||(t[2]=e("h2",{class:"agent-modal__title"},"Add User",-1)),e("button",{class:"agent-modal__close","aria-label":"Close modal",onClick:t[0]||(t[0]=l=>s.$emit("close"))}," × ")]),t[3]||(t[3]=e("div",{class:"agent-modal__dropdown"},[e("select",{class:"agent-modal__network-select"},[e("option",{value:"",selected:""},"You can only add agents or clients in your network")])],-1)),t[4]||(t[4]=e("div",{class:"agent-modal__tabs"},[e("button",{class:"agent-modal__tab agent-modal__tab--active"}," Agent "),e("button",{class:"agent-modal__tab"}," Client ")],-1)),e("div",I,[S(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>d.value=l),class:"agent-modal__search-input",placeholder:"Search agents"},null,512),[[x,d.value]])]),e("div",V,[(i(!0),c(R,null,L(C.value,l=>(i(),c("div",{key:l.id,class:"agent-modal__list-item",onClick:q=>f(l)},[e("div",N,[e("img",{src:l.avatar,alt:l.name,class:"agent-modal__avatar",onError:h},null,40,Q),e("div",T,[e("span",Y,p(l.name),1),e("span",z,p(l.email||"johndoe@gmail.com"),1)])]),e("div",G,[e("div",{class:M(["agent-modal__radio-circle",{"agent-modal__radio-circle--selected":y(l)}])},null,2)])],8,F))),128))]),e("div",{class:"agent-modal__footer"},[e("button",{class:"agent-modal__done-btn",onClick:b}," Done ")])])])):$("",!0)]))}},ce=A(J,[["__scopeId","data-v-880318f2"]]),H={key:0,class:"client-modal__overlay"},K={class:"client-modal",role:"dialog","aria-modal":"true","aria-label":"Add User modal"},O={class:"client-modal__header"},P={class:"client-modal__search"},W={class:"client-modal__list"},X=["onClick"],Z={class:"client-modal__client-info"},ee=["src","alt"],te={class:"client-modal__details"},se={class:"client-modal__name"},le={class:"client-modal__email"},ae={class:"client-modal__radio"},oe={__name:"ClientModal",props:{show:{type:Boolean,required:!0},clients:{type:Array,default:()=>[],required:!1},selectedClients:{type:Array,default:()=>[]}},emits:["close","select","remove"],setup(n,{emit:m}){var _,u;const a=n,r=m,d=v(""),o=v([...a.selectedClients]);console.log("ClientModal props:",{show:a.show,clientsCount:(_=a.clients)==null?void 0:_.length,selectedCount:(u=a.selectedClients)==null?void 0:u.length});const h=s=>{s.target.src="https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},C=k(()=>{if(!d.value)return a.clients;const s=d.value.toLowerCase();return a.clients.filter(t=>{var l;return((l=t.name)==null?void 0:l.toLowerCase().includes(s))||t.email&&t.email.toLowerCase().includes(s)})}),y=s=>o.value.some(t=>t.id===s.id),f=s=>{const t=o.value.findIndex(l=>l.id===s.id);t===-1?o.value.push(s):o.value.splice(t,1)},b=()=>{r("select",o.value),r("close")};return g(()=>a.selectedClients,s=>{o.value=[...s]},{deep:!0}),g(()=>a.show,s=>{s&&(o.value=[...a.selectedClients])}),(s,t)=>(i(),w(j,{to:"body"},[n.show?(i(),c("div",H,[e("div",K,[e("div",O,[t[2]||(t[2]=e("h2",{class:"client-modal__title"},"Add User",-1)),e("button",{class:"client-modal__close","aria-label":"Close modal",onClick:t[0]||(t[0]=l=>s.$emit("close"))}," × ")]),t[3]||(t[3]=e("div",{class:"client-modal__dropdown"},[e("select",{class:"client-modal__network-select"},[e("option",{value:"",selected:""},"You can only add agents or clients in your network")])],-1)),t[4]||(t[4]=e("div",{class:"client-modal__tabs"},[e("button",{class:"client-modal__tab"}," Agent "),e("button",{class:"client-modal__tab client-modal__tab--active"}," Client ")],-1)),e("div",P,[S(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>d.value=l),class:"client-modal__search-input",placeholder:"Search clients"},null,512),[[x,d.value]])]),e("div",W,[(i(!0),c(R,null,L(C.value,l=>(i(),c("div",{key:l.id,class:"client-modal__list-item",onClick:q=>f(l)},[e("div",Z,[e("img",{src:l.avatar,alt:l.name,class:"client-modal__avatar",onError:h},null,40,ee),e("div",te,[e("span",se,p(l.name),1),e("span",le,p(l.email||"johndoe@gmail.com"),1)])]),e("div",ae,[e("div",{class:M(["client-modal__radio-circle",{"client-modal__radio-circle--selected":y(l)}])},null,2)])],8,X))),128))]),e("div",{class:"client-modal__footer"},[e("button",{class:"client-modal__done-btn",onClick:b}," Done ")])])])):$("",!0)]))}},re=A(oe,[["__scopeId","data-v-c66c3a84"]]);export{ce as A,re as C,ie as u};
