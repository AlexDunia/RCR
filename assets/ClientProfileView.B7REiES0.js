import{g as H,m as W,c as b,r as h,o as G,b as i,i as l,e,F as f,f as w,n as _,t as o,l as I,X as Ye,w as Ce,v as k,s as we,I as $e,L as Ae,j as De,u as He}from"./vendor.Bh3_gxHF.js";import{_ as J,g as We,h as Ge,a as Je,d as Ke}from"./index.Cv61STol.js";import{u as Qe}from"./listingStore.czKml_4q.js";import{u as Xe}from"./documents.CHcazOjv.js";import{u as Oe}from"./tourStore.yq7Hhqko.js";const Ze={class:"client-tasks"},et={class:"filter-options"},tt=["onClick"],st={class:"tasks-container"},nt={key:0,class:"empty-state"},ot={class:"task-header"},it={class:"task-details"},lt={class:"date-info"},at={class:"agents-section"},rt={class:"agent-list"},dt=["src","alt"],ct={class:"agent-name"},ut={class:"clients-section"},vt={class:"client-list"},pt=["src","alt"],mt={class:"client-name"},_t={class:"task-actions"},ht=["onClick"],ft={__name:"ClientTasks",setup(K){const g=H(),y=W(),C=We(),A=b(()=>g.params.id?parseInt(g.params.id):g.query.clientId?parseInt(g.query.clientId):null),D=h("all");G(()=>{C.initTasks()});const B=()=>{C.resetTasks(),window.location.reload()},T=b(()=>{if(!A.value)return[];const r=C.getTasksByClient(A.value);return console.log(`Filtered tasks for client ${A.value}:`,r),D.value==="all"?r:r.filter(d=>{const a=D.value.replace(/-/g,"_");return d.status===a}).sort((d,a)=>new Date(a.updatedAt||a.createdAt)-new Date(d.updatedAt||d.createdAt))}),v=r=>{const d=r.replace("_"," ");return d.charAt(0).toUpperCase()+d.slice(1)},m=r=>r?new Date(r).toLocaleDateString():"",p=r=>r||"",M=r=>{const d=C.getTaskById(r);g.path.startsWith("/clients/")?y.push(`/admin/client-task/${r}?clientId=${A.value}`):d.status==="completed"?y.push(`/tasks/completed/${r}`):y.push(`/tasks/${r}`)};return(r,d)=>(l(),i("div",Ze,[e("div",{class:"section-header"},[d[0]||(d[0]=e("h3",{class:"section-title"},"Client Tasks",-1)),e("button",{class:"reset-btn",onClick:B},"Reset Tasks Data")]),e("div",et,[(l(),i(f,null,w(["all","scheduled","in_progress","completed"],a=>e("button",{key:a,class:_(["filter-btn",{active:D.value===a}]),onClick:u=>D.value=a},o(v(a)),11,tt)),64))]),e("div",st,[T.value.length===0?(l(),i("div",nt," No tasks found for this client ")):(l(!0),i(f,{key:1},w(T.value,a=>(l(),i("div",{key:a.id,class:"task-card"},[e("div",ot,[e("h4",null,o(a.title),1),e("span",{class:_(["status-badge",a.status])},o(v(a.status)),3)]),e("div",it,[e("div",lt,[d[1]||(d[1]=e("span",{class:"label"},"Date:",-1)),I(" "+o(m(a.startDate))+" at "+o(p(a.startTime)),1)]),e("div",at,[d[2]||(d[2]=e("span",{class:"label"},"Assigned agents:",-1)),e("div",rt,[(l(!0),i(f,null,w(a.agentDetails,u=>(l(),i("div",{key:u.id,class:"agent-chip"},[e("img",{src:u.avatar,alt:u.name,class:"agent-avatar"},null,8,dt),e("span",ct,o(u.name),1)]))),128))])]),e("div",ut,[d[3]||(d[3]=e("span",{class:"label"},"Assigned clients:",-1)),e("div",vt,[(l(!0),i(f,null,w(a.clientDetails,u=>(l(),i("div",{key:u.id,class:"client-chip"},[e("img",{src:u.avatar,alt:u.name,class:"client-avatar"},null,8,pt),e("span",mt,o(u.name),1)]))),128))])])]),e("div",_t,[e("button",{class:"view-details-btn",onClick:u=>M(a.id)}," View details ",8,ht)])]))),128))])]))}},gt=J(ft,[["__scopeId","data-v-888b6240"]]),yt={class:"client-tours"},kt={class:"filter-options"},bt=["onClick"],Ct={class:"tours-container"},wt={key:0,class:"empty-state"},$t={class:"tour-header"},At={class:"tour-details"},Dt={class:"date-info"},Tt={class:"agents-section"},St={class:"agent-list"},Lt=["src","alt"],It={class:"agent-name"},Mt={class:"clients-section"},Pt={class:"client-list"},Bt=["src","alt"],xt={class:"client-name"},Nt={class:"tour-actions"},jt=["onClick"],qt={__name:"ClientTours",setup(K){const g=H(),y=W(),C=Oe(),A=b(()=>g.params.id?parseInt(g.params.id):g.query.clientId?parseInt(g.query.clientId):null),D=h("all");G(()=>{C.initTours()});const B=()=>{C.clearAllTours(),window.location.reload()},T=b(()=>{if(!A.value)return[];const r=C.getToursByClient(A.value);return console.log(`Filtered tours for client ${A.value}:`,r),D.value==="all"?r:r.filter(d=>{const a=D.value.replace(/-/g,"_");return d.status===a}).sort((d,a)=>new Date(a.updatedAt||a.createdAt)-new Date(d.updatedAt||d.createdAt))}),v=r=>{const d=r.replace("_"," ");return d.charAt(0).toUpperCase()+d.slice(1)},m=r=>r?new Date(r).toLocaleDateString():"",p=r=>r||"",M=r=>{const d=C.getTourById(r);g.path.startsWith("/clients/")?y.push(`/admin/client-tour/${r}?clientId=${A.value}`):d.status==="completed"?y.push(`/tours/completed/${r}`):y.push(`/tours/${r}`)};return(r,d)=>(l(),i("div",yt,[e("div",{class:"section-header"},[d[0]||(d[0]=e("h3",{class:"section-title"},"Client Tours",-1)),e("button",{class:"reset-btn",onClick:B},"Reset Tours Data")]),e("div",kt,[(l(),i(f,null,w(["all","scheduled","in_progress","completed"],a=>e("button",{key:a,class:_(["filter-btn",{active:D.value===a}]),onClick:u=>D.value=a},o(v(a)),11,bt)),64))]),e("div",Ct,[T.value.length===0?(l(),i("div",wt," No tours found for this client ")):(l(!0),i(f,{key:1},w(T.value,a=>(l(),i("div",{key:a.id,class:"tour-card"},[e("div",$t,[e("h4",null,o(a.title),1),e("span",{class:_(["status-badge",a.status])},o(v(a.status)),3)]),e("div",At,[e("div",Dt,[d[1]||(d[1]=e("span",{class:"label"},"Date:",-1)),I(" "+o(m(a.startDate))+" at "+o(p(a.startTime)),1)]),e("div",Tt,[d[2]||(d[2]=e("span",{class:"label"},"Assigned agents:",-1)),e("div",St,[(l(!0),i(f,null,w(a.agentDetails,u=>(l(),i("div",{key:u.id,class:"agent-chip"},[e("img",{src:u.avatar,alt:u.name,class:"agent-avatar"},null,8,Lt),e("span",It,o(u.name),1)]))),128))])]),e("div",Mt,[d[3]||(d[3]=e("span",{class:"label"},"Assigned clients:",-1)),e("div",Pt,[(l(!0),i(f,null,w(a.clientDetails,u=>(l(),i("div",{key:u.id,class:"client-chip"},[e("img",{src:u.avatar,alt:u.name,class:"client-avatar"},null,8,Bt),e("span",xt,o(u.name),1)]))),128))])])]),e("div",Nt,[e("button",{class:"view-details-btn",onClick:u=>M(a.id)}," View details ",8,jt)])]))),128))])]))}},Vt=J(qt,[["__scopeId","data-v-e75ac2c5"]]),Ft={class:"client-profile-page"},Ut={class:"nav-container"},Rt={class:"tab-buttons"},Et={class:"profile-content"},zt={key:0,class:"profile-section"},Yt={class:"section-header"},Ht={class:"section-title"},Wt={class:"info-grid"},Gt={class:"info-item"},Jt={class:"info-value"},Kt={class:"info-item"},Qt={class:"info-value"},Xt={class:"info-item"},Ot={class:"info-value"},Zt={class:"info-item"},es={class:"info-value"},ts={class:"info-item"},ss={class:"info-value"},ns={class:"profile-photo-container"},os=["src"],is={key:1,class:"profile-section"},ls={class:"listings-header"},as={class:"section-subtitle"},rs={class:"filter-buttons"},ds={key:0,class:"property-list"},cs=["onClick"],us={class:"property-image-container"},vs=["src"],ps={class:"property-details"},ms={class:"property-title"},_s={class:"view-count"},hs={class:"view-text"},fs={key:1,class:"empty-state"},gs={key:2,class:"profile-section"},ys={class:"section-header"},ks={class:"section-title"},bs={key:0,class:"loading-state"},Cs={key:1,class:"documents-list"},ws={class:"document-list-container"},$s=["onClick"],As={class:"doc-header"},Ds={key:0,class:"doc-agent"},Ts=["title"],Ss={class:"doc-date"},Ls={key:2,class:"empty-state"},Is={class:"document-modal"},Ms={class:"modal-header"},Ps={class:"modal-title"},Bs={class:"modal-body"},xs={key:0,class:"document-details"},Ns={class:"details-grid"},js={class:"detail-item"},qs={class:"detail-value"},Vs={class:"detail-item"},Fs={class:"detail-value"},Us={class:"detail-item"},Rs={class:"detail-value"},Es={class:"detail-item"},zs={class:"detail-value"},Ys={class:"detail-item"},Hs={class:"detail-value"},Ws={class:"detail-item full-width"},Gs={class:"detail-value"},Js={class:"detail-item"},Ks={class:"detail-value"},Qs={class:"detail-item"},Xs={class:"detail-value"},Os={class:"detail-item"},Zs={class:"detail-value"},en={class:"detail-item"},tn={class:"detail-value"},sn={class:"detail-item"},nn={class:"detail-value"},on={class:"detail-item"},ln={class:"detail-value"},an={class:"detail-item full-width"},rn={class:"detail-value"},dn={class:"detail-item"},cn={class:"detail-value"},un={class:"detail-item"},vn={class:"detail-value"},pn={class:"detail-item"},mn={class:"detail-value"},_n={class:"detail-item"},hn={class:"detail-value"},fn={class:"detail-item"},gn={class:"detail-value"},yn={class:"detail-item full-width"},kn={class:"detail-value"},bn={class:"detail-item"},Cn={class:"detail-value"},wn={class:"detail-item"},$n={class:"detail-value"},An={class:"document-files"},Dn={key:0,class:"files-list"},Tn={class:"file-info"},Sn={class:"file-details"},Ln={class:"file-name"},In={class:"file-size"},Mn={class:"file-actions"},Pn=["onClick"],Bn=["onClick"],xn={key:1,class:"no-files"},Nn={key:1,class:"loading-document"},jn={class:"modal-footer"},qn={key:3,class:"profile-section"},Vn={class:"section-header"},Fn={class:"section-title"},Un={key:0,class:"loading-state"},Rn={key:1,class:"connections-wrapper"},En={class:"connections-container"},zn={class:"connections-heading"},Yn={class:"connections-subheading"},Hn={class:"connection-tabs"},Wn={key:0},Gn={key:0,class:"empty-connections"},Jn={key:1,class:"agent-connection-list"},Kn={class:"agent-card-avatar"},Qn=["src"],Xn={class:"agent-card-content"},On={class:"agent-info"},Zn={class:"agent-name"},eo={class:"agent-experience"},to={class:"agent-details"},so={class:"agent-location"},no={class:"agent-specialty"},oo={class:"agent-actions"},io=["onClick"],lo=["onClick"],ao={key:1},ro={key:0,class:"empty-connections"},co={key:1,class:"agent-connection-list"},uo={class:"agent-card-avatar"},vo=["src"],po={class:"agent-card-content"},mo={class:"agent-info"},_o={class:"agent-name"},ho={class:"agent-details"},fo={class:"agent-location"},go={class:"agent-actions"},yo=["onClick"],ko=["onClick"],bo={class:"connection-modal"},Co={class:"modal-header"},wo={class:"modal-body"},$o={class:"connection-tabs"},Ao={class:"search-container"},Do=["placeholder"],To={class:"connection-results"},So={key:0,class:"result-list"},Lo=["onClick"],Io={class:"result-avatar"},Mo=["src","alt"],Po={class:"result-details"},Bo={class:"result-name"},xo={class:"result-meta"},No={class:"result-status"},jo={key:0,class:"status-tag connected"},qo={key:1,class:"status-tag pending"},Vo={key:2,class:"status-tag"},Fo={key:1,class:"empty-results"},Uo={key:0,class:"connection-form"},Ro={class:"form-title"},Eo={class:"modal-footer"},zo=["disabled"],Yo={key:4,class:"profile-section"},Ho={class:"section-header"},Wo={class:"section-title"},Go={key:5,class:"profile-section"},Jo={class:"section-header"},Ko={class:"section-title"},Qo={__name:"ClientProfileView",setup(K){const g=H(),y=W(),C=Ge(),A=Qe(),D=Xe(),B=Je(),T=Ke(),v=b(()=>parseInt(g.params.id)),m=b(()=>C.getClientById(v.value)||{id:v.value,name:"Client Not Found",email:"",profilePicture:"https://randomuser.me/api/portraits/men/32.jpg"});Ye("profileData",{name:b(()=>m.value.name),avatar:b(()=>m.value.profilePicture),title:b(()=>"Client")});const p=h("bio"),M=h("mostViewed"),r=h(null),d=h(!0),a=h([]),u=h(!0),x=h(!1),c=h(null),R=h(!1),N=h(!1),V=h(""),P=h(null),F=h(""),$=h("agent"),j=h("agents"),Q=["https://randomuser.me/api/portraits/men/32.jpg","https://randomuser.me/api/portraits/women/44.jpg","https://randomuser.me/api/portraits/men/22.jpg","https://randomuser.me/api/portraits/women/68.jpg","https://randomuser.me/api/portraits/men/75.jpg","https://randomuser.me/api/portraits/women/91.jpg"],Te=b(()=>{const s=v.value;return s?T.getConnectionsByUserId(s,"client"):[]}),E=b(()=>Te.value.filter(s=>s.status==="accepted"&&(s.fromType==="agent"&&s.toId===v.value||s.toType==="agent"&&s.fromId===v.value)).map(s=>{const t=s.fromType==="agent"?s.fromId:s.toId,S=B.getAgentById(t);return{connectionId:s.id,id:t,agent:S,requestedAt:s.requestedAt,updatedAt:s.updatedAt}}).filter(s=>s.agent)),Se=b(()=>E.value.length===0?[{id:5,name:"James T. Whitfield",experience:"5+ Yr",location:"Columbia, USA",specialty:"Luxury Real Estate",avatar:"https://randomuser.me/api/portraits/men/32.jpg",connectionId:1},{id:8,name:"Sarah Johnson",experience:"8+ Yr",location:"Miami, USA",specialty:"Commercial Properties",avatar:"https://randomuser.me/api/portraits/women/44.jpg",connectionId:2},{id:10,name:"Michael Chen",experience:"3+ Yr",location:"Seattle, USA",specialty:"Residential Homes",avatar:"https://randomuser.me/api/portraits/men/22.jpg",connectionId:3}]:E.value.map((s,t)=>({id:s.id,name:s.agent.name,experience:`${Math.floor(Math.random()*10)+1}+ Yr`,location:s.agent.location||"Columbia, USA",specialty:s.agent.specialties?s.agent.specialties[0]:"Luxury Real Estate",avatar:Q[t%Q.length],connectionId:s.connectionId}))),X=b(()=>[{id:2,name:"Emily Rodriguez",profilePicture:"https://randomuser.me/api/portraits/women/68.jpg",location:"New York, USA",connectionId:6},{id:3,name:"David Williams",profilePicture:"https://randomuser.me/api/portraits/men/75.jpg",location:"Los Angeles, USA",connectionId:7}]),O=b(()=>{if(!V.value.trim())return $.value==="agent"?B.getAllAgents():C.clients.filter(t=>t.id!==v.value);const s=V.value.toLowerCase().trim();return $.value==="agent"?B.getAllAgents().filter(t=>t.name.toLowerCase().includes(s)||t.email.toLowerCase().includes(s)||t.specialties&&t.specialties.some(S=>S.toLowerCase().includes(s))):C.clients.filter(t=>t.id!==v.value&&(t.name.toLowerCase().includes(s)||t.email.toLowerCase().includes(s)||t.interests&&t.interests.some(S=>S.toLowerCase().includes(s))))});function Z(){R.value=!0,setTimeout(()=>{R.value=!1},500)}function Le(s){y.push(`/admin/agent/${s}`)}function Ie(s){y.push(`/clients/${s}`)}function ee(s,t){T.rejectConnection(s),alert("Connection deactivated successfully")}function U(s){return T.areUsersConnected(v.value,"client",s,$.value)}function z(s){const t=T.getConnectionBetweenUsers(v.value,"client",s,$.value);return t&&t.status==="pending"}function Me(s){!U(s.id)&&!z(s.id)&&(P.value=s)}function Pe(){P.value&&(T.requestConnection(v.value,"client",P.value.id,$.value,F.value),F.value="",P.value=null,N.value=!1,alert("Connection request sent successfully!"))}async function Be(s){try{console.log("Viewing document:",s);const t=await D.fetchDocument(s);t?(c.value=t,x.value=!0):(console.error("Document not found:",s),alert("Document not found"))}catch(t){console.error("Error loading document:",t),alert("Error loading document details")}}function xe(){c.value&&(x.value=!1,y.push(`/admin/document/${c.value.id}/edit`))}function te(){console.log("Uploading document for client:",v.value),y.push(`/admin/document/new?clientId=${v.value}`)}const se=b(()=>{var s;if(!((s=r.value)!=null&&s.interactions))return[];switch(M.value){case"saved":return r.value.interactions.mostSavedListings||[];case"inquired":return[];case"mostViewed":default:return r.value.interactions.mostViewedListings||[]}});function Ne(s){const t=A.getListingById(s);return t&&console.log(`Getting view count for listing: ${t.title}`),20}function je(s){y.push({name:"PropertyDetail",params:{propertyId:s}})}function Y(s){M.value=s}function q(s){p.value=s,y.push({path:`/clients/${v.value}`,query:{tab:s}})}G(async()=>{v.value&&(r.value=C.getClientFullDetails(v.value),console.log("Client details:",r.value),g.query.tab&&(p.value=g.query.tab),p.value==="documents"?await ne():p.value==="connections"?Z():d.value=!1)}),Ce(()=>p.value,async s=>{s==="documents"&&v.value?await ne():s==="connections"&&v.value&&Z()}),Ce(()=>g.query.tab,s=>{s&&(p.value=s)});async function ne(){u.value=!0;try{const s=await D.fetchDocumentsByClientId(v.value);a.value=s}catch(s){console.error("Error loading documents:",s)}finally{setTimeout(()=>{u.value=!1,d.value=!1},500)}}function qe(s){const t=A.getListingById(s);return t?t.title:"St. Louis Residence, Columbia USA"}function Ve(s,t){return s?s.length<=t?s:s.substring(0,t)+"...":""}function oe(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}function Fe(s){if(!s)return"0 B";const t=["B","KB","MB","GB"],S=Math.floor(Math.log(s)/Math.log(1024));return`${(s/Math.pow(1024,S)).toFixed(2)} ${t[S]}`}function ie(s){if(!s)return"";switch(s.type){case"buyer-rep":return`${s.buyerName}'s Buyer Rep Agreement`;case"seller-rep":return`${s.sellerName}'s Seller Rep Agreement`;case"mls":return`MLS Listing - ${s.propertyAddress}`;default:return"Untitled Document"}}function Ue(s){s&&s.url?window.open(s.url,"_blank"):(console.error("File URL not available"),alert("File preview not available. The file may be processing or unavailable."))}function Re(s){if(s&&s.url)try{const t=document.createElement("a");t.href=s.url,t.download=s.name||"document",document.body.appendChild(t),t.click(),document.body.removeChild(t),console.log("Downloading file:",s.name)}catch(t){console.error("Error downloading file:",t),alert("An error occurred while downloading the file. Please try again.")}else console.error("File download URL not available"),alert("File download not available. The file may be processing or unavailable.")}function Ee(s){if(!s)return"";switch(s){case"buyer-rep":return"Buyer";case"seller-rep":return"Seller";case"mls":return"MLS";default:return s}}function ze(){y.push(`/tasks/create?clientId=${v.value}`)}return(s,t)=>{var S,le,ae,re,de,ce,ue,ve,pe,me,_e,he,fe,ge,ye,ke;return l(),i("div",Ft,[e("div",Ut,[e("div",Rt,[e("button",{class:_(["tab-button",{active:p.value==="bio"}]),onClick:t[0]||(t[0]=n=>q("bio"))},"Bio",2),e("button",{class:_(["tab-button",{active:p.value==="listings"}]),onClick:t[1]||(t[1]=n=>q("listings"))},"Listings",2),e("button",{class:_(["tab-button",{active:p.value==="documents"}]),onClick:t[2]||(t[2]=n=>q("documents"))},"Documents",2),e("button",{class:_(["tab-button",{active:p.value==="connections"}]),onClick:t[3]||(t[3]=n=>q("connections"))},"Connections",2),e("button",{class:_(["tab-button",{active:p.value==="tours"}]),onClick:t[4]||(t[4]=n=>q("tours"))},"Tours",2),e("button",{class:_(["tab-button",{active:p.value==="tasks"}]),onClick:t[5]||(t[5]=n=>q("tasks"))},"Tasks",2)])]),e("div",Et,[p.value==="bio"?(l(),i("div",zt,[e("div",Yt,[e("h2",Ht,o((S=m.value)==null?void 0:S.name)+" personal Information",1),t[23]||(t[23]=e("button",{class:"edit-button"},"Edit profile as admin",-1))]),e("div",Wt,[e("div",Gt,[t[24]||(t[24]=e("div",{class:"info-label"},"Full name",-1)),e("div",Jt,o((le=m.value)==null?void 0:le.name),1)]),e("div",Kt,[t[25]||(t[25]=e("div",{class:"info-label"},"Email",-1)),e("div",Qt,o((ae=m.value)==null?void 0:ae.email),1)]),e("div",Xt,[t[26]||(t[26]=e("div",{class:"info-label"},"Phone number",-1)),e("div",Ot,o(((re=m.value)==null?void 0:re.phone)||"08108725914"),1)]),e("div",Zt,[t[27]||(t[27]=e("div",{class:"info-label"},"Alternate phone number",-1)),e("div",es,o(((de=m.value)==null?void 0:de.alternatePhone)||"08108725914"),1)]),e("div",ts,[t[28]||(t[28]=e("div",{class:"info-label"},"Country of residence",-1)),e("div",ss,o(((ce=m.value)==null?void 0:ce.location)||"123 Main Street, Los Angeles, CA 90001"),1)])]),e("div",ns,[e("img",{src:((ue=m.value)==null?void 0:ue.profilePicture)||"https://randomuser.me/api/portraits/men/32.jpg",alt:"Large profile photo",class:"profile-photo"},null,8,os)])])):k("",!0),p.value==="listings"?(l(),i("div",is,[e("div",ls,[t[29]||(t[29]=e("h2",{class:"section-title"},"Most Viewed",-1)),e("p",as,"Most Viewed properties by "+o((ve=m.value)==null?void 0:ve.name),1),e("div",rs,[e("button",{class:_(["filter-btn",{active:M.value==="mostViewed"}]),onClick:t[6]||(t[6]=n=>Y("mostViewed"))},"Most viewed",2),e("button",{class:_(["filter-btn",{active:M.value==="saved"}]),onClick:t[7]||(t[7]=n=>Y("saved"))},"Saved",2),e("button",{class:_(["filter-btn",{active:M.value==="inquired"}]),onClick:t[8]||(t[8]=n=>Y("inquired"))},"Inquired",2)])]),se.value.length?(l(),i("div",ds,[(l(!0),i(f,null,w(se.value,n=>(l(),i("div",{key:n.id,class:"property-item",onClick:L=>je(n.id)},[e("div",us,[e("img",{src:s.getPropertyImage(n.id),alt:"Property image",class:"property-image"},null,8,vs)]),e("div",ps,[e("h3",ms,o(qe(n.id)),1)]),e("div",_s,[t[30]||(t[30]=e("div",{class:"view-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})])],-1)),e("div",hs,o(Ne(n.id))+" views",1)])],8,cs))),128))])):(l(),i("div",fs,t[31]||(t[31]=[e("p",null,"This client hasn't viewed any property listings yet.",-1),e("button",{class:"add-listing-btn"},"Recommend Properties",-1)])))])):k("",!0),p.value==="documents"?(l(),i("div",gs,[e("div",ys,[e("h2",ks,o((pe=m.value)==null?void 0:pe.name)+"'s Documents",1),e("button",{class:"edit-button",onClick:te},"Upload Document")]),u.value?(l(),i("div",bs,t[32]||(t[32]=[e("p",null,"Loading documents...",-1)]))):a.value.length>0?(l(),i("div",Cs,[t[33]||(t[33]=e("div",{class:"table-header"},[e("div",{class:"header-cell title"},"Title")],-1)),e("div",ws,[(l(!0),i(f,null,w(a.value,n=>(l(),i("div",{key:n.id,class:"document-card",onClick:L=>Be(n.id)},[e("div",As,[e("div",{class:_(["doc-badge",n.type])},o(Ee(n.type)),3),n.agents&&n.agents.length>0?(l(),i("div",Ds,o(n.agents[0].name),1)):k("",!0)]),e("div",{class:"doc-name",title:n.name},o(Ve(n.name||ie(n),25)),9,Ts),e("div",Ss,o(oe(n.createdAt)),1)],8,$s))),128))])])):(l(),i("div",Ls,[t[34]||(t[34]=e("p",null,"No documents found for this client.",-1)),e("button",{class:"add-document-btn",onClick:te},"Upload New Document")])),x.value?(l(),i("div",{key:3,class:"modal-overlay",onClick:t[11]||(t[11]=we(n=>x.value=!1,["self"]))},[e("div",Is,[e("div",Ms,[e("h3",Ps,o(c.value?ie(c.value):"Document Details"),1),e("button",{onClick:t[9]||(t[9]=n=>x.value=!1),class:"modal-close"},"×")]),e("div",Bs,[c.value?(l(),i("div",xs,[e("div",Ns,[c.value.type==="buyer-rep"?(l(),i(f,{key:0},[e("div",js,[t[35]||(t[35]=e("span",{class:"detail-label"},"Buyer Name",-1)),e("span",qs,o(c.value.buyerName),1)]),e("div",Vs,[t[36]||(t[36]=e("span",{class:"detail-label"},"Email",-1)),e("span",Fs,o(c.value.buyerEmail),1)]),e("div",Us,[t[37]||(t[37]=e("span",{class:"detail-label"},"Phone",-1)),e("span",Rs,o(c.value.phoneNumber),1)]),e("div",Es,[t[38]||(t[38]=e("span",{class:"detail-label"},"Property Type",-1)),e("span",zs,o(c.value.propertyType),1)]),e("div",Ys,[t[39]||(t[39]=e("span",{class:"detail-label"},"Budget Range",-1)),e("span",Hs,o(c.value.budgetRange),1)]),e("div",Ws,[t[40]||(t[40]=e("span",{class:"detail-label"},"Additional Notes",-1)),e("span",Gs,o(c.value.additionalNotes),1)])],64)):k("",!0),c.value.type==="seller-rep"?(l(),i(f,{key:1},[e("div",Js,[t[41]||(t[41]=e("span",{class:"detail-label"},"Seller Name",-1)),e("span",Ks,o(c.value.sellerName),1)]),e("div",Qs,[t[42]||(t[42]=e("span",{class:"detail-label"},"Email",-1)),e("span",Xs,o(c.value.sellerEmail),1)]),e("div",Os,[t[43]||(t[43]=e("span",{class:"detail-label"},"Phone",-1)),e("span",Zs,o(c.value.phoneNumber),1)]),e("div",en,[t[44]||(t[44]=e("span",{class:"detail-label"},"Property Type",-1)),e("span",tn,o(c.value.propertyType),1)]),e("div",sn,[t[45]||(t[45]=e("span",{class:"detail-label"},"Property Address",-1)),e("span",nn,o(c.value.propertyAddress),1)]),e("div",on,[t[46]||(t[46]=e("span",{class:"detail-label"},"Listing Price",-1)),e("span",ln,o(c.value.listingPrice),1)]),e("div",an,[t[47]||(t[47]=e("span",{class:"detail-label"},"Additional Notes",-1)),e("span",rn,o(c.value.additionalNotes),1)])],64)):k("",!0),c.value.type==="mls"?(l(),i(f,{key:2},[e("div",dn,[t[48]||(t[48]=e("span",{class:"detail-label"},"Property Address",-1)),e("span",cn,o(c.value.propertyAddress),1)]),e("div",un,[t[49]||(t[49]=e("span",{class:"detail-label"},"Listing Price",-1)),e("span",vn,o(c.value.listingPrice),1)]),e("div",pn,[t[50]||(t[50]=e("span",{class:"detail-label"},"Bedrooms",-1)),e("span",mn,o(c.value.bedrooms),1)]),e("div",_n,[t[51]||(t[51]=e("span",{class:"detail-label"},"Bathrooms",-1)),e("span",hn,o(c.value.bathrooms),1)]),e("div",fn,[t[52]||(t[52]=e("span",{class:"detail-label"},"Square Footage",-1)),e("span",gn,o(c.value.squareFootage),1)]),e("div",yn,[t[53]||(t[53]=e("span",{class:"detail-label"},"Property Description",-1)),e("span",kn,o(c.value.propertyDescription),1)])],64)):k("",!0),e("div",bn,[t[54]||(t[54]=e("span",{class:"detail-label"},"Document ID",-1)),e("span",Cn,o(c.value.id),1)]),e("div",wn,[t[55]||(t[55]=e("span",{class:"detail-label"},"Created Date",-1)),e("span",$n,o(oe(c.value.createdAt)),1)])]),e("div",An,[t[58]||(t[58]=e("h4",{class:"files-title"},"Attached Files",-1)),c.value.files&&c.value.files.length>0?(l(),i("div",Dn,[(l(!0),i(f,null,w(c.value.files,n=>(l(),i("div",{key:n.id,class:"file-item"},[e("div",Tn,[t[56]||(t[56]=e("div",{class:"file-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z","clip-rule":"evenodd"})])],-1)),e("div",Sn,[e("span",Ln,o(n.name),1),e("span",In,o(Fe(n.size||0)),1)])]),e("div",Mn,[e("button",{onClick:L=>Ue(n),class:"view-file-btn"},"View",8,Pn),e("button",{onClick:L=>Re(n),class:"download-file-btn"},"Download",8,Bn)])]))),128))])):(l(),i("div",xn,t[57]||(t[57]=[e("p",null,"No files attached to this document",-1)])))])])):(l(),i("div",Nn,t[59]||(t[59]=[e("p",null,"Loading document details...",-1)])))]),e("div",jn,[e("button",{onClick:xe,class:"btn-primary"},"Edit Document"),e("button",{onClick:t[10]||(t[10]=n=>x.value=!1),class:"btn-secondary"},"Close")])])])):k("",!0)])):k("",!0),p.value==="connections"?(l(),i("div",qn,[e("div",Vn,[e("h2",Fn,o((me=m.value)==null?void 0:me.name)+"'s Connections",1),e("button",{class:"edit-button",onClick:t[12]||(t[12]=n=>N.value=!0)},"Add Connection")]),R.value?(l(),i("div",Un,t[60]||(t[60]=[e("p",null,"Loading connections...",-1)]))):(l(),i("div",Rn,[e("div",En,[e("h3",zn,o((_e=m.value)==null?void 0:_e.name)+"'s Connections",1),e("p",Yn,"See all connections "+o((he=m.value)==null?void 0:he.name)+" has made.",1),e("div",Hn,[e("button",{class:_(["connection-tab-btn",{active:j.value==="agents"}]),onClick:t[13]||(t[13]=n=>j.value="agents")}," Agents ",2),e("button",{class:_(["connection-tab-btn",{active:j.value==="clients"}]),onClick:t[14]||(t[14]=n=>j.value="clients")}," Clients ",2)]),j.value==="agents"?(l(),i("div",Wn,[E.value.length===0?(l(),i("div",Gn,t[61]||(t[61]=[e("p",null,"No connected agents found.",-1)]))):(l(),i("div",Jn,[(l(!0),i(f,null,w(Se.value,n=>(l(),i("div",{key:n.id,class:"agent-connection-card"},[e("div",Kn,[e("img",{src:n.avatar,alt:"Agent avatar",class:"agent-avatar-img"},null,8,Qn)]),e("div",Xn,[e("div",On,[e("h4",Zn,[I(o(n.name)+" ",1),e("span",eo,"("+o(n.experience)+" of experience)",1)]),e("div",to,[e("div",so,[t[62]||(t[62]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e("circle",{cx:"12",cy:"10",r:"3"})],-1)),I(" "+o(n.location),1)]),e("div",no,[t[63]||(t[63]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M20 7h-9m0 0l3 3m-3-3l3-3M11 17H2m0 0l3 3M2 17l3-3"})],-1)),I(" "+o(n.specialty),1)])])]),e("div",oo,[e("button",{class:"view-profile-btn",onClick:L=>Le(n.id)},t[64]||(t[64]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1),I(" View profile ")]),8,io),e("button",{class:"deactivate-btn",onClick:L=>ee(n.connectionId)},t[65]||(t[65]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),I(" Deactivate ")]),8,lo)])])]))),128))]))])):k("",!0),j.value==="clients"?(l(),i("div",ao,[X.value.length===0?(l(),i("div",ro,t[66]||(t[66]=[e("p",null,"No connected clients found.",-1)]))):(l(),i("div",co,[(l(!0),i(f,null,w(X.value,n=>(l(),i("div",{key:n.id,class:"agent-connection-card"},[e("div",uo,[e("img",{src:n.profilePicture,alt:"Client avatar",class:"agent-avatar-img"},null,8,vo)]),e("div",po,[e("div",mo,[e("h4",_o,o(n.name),1),e("div",ho,[e("div",fo,[t[67]||(t[67]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e("circle",{cx:"12",cy:"10",r:"3"})],-1)),I(" "+o(n.location||"New York, USA"),1)])])]),e("div",go,[e("button",{class:"view-profile-btn",onClick:L=>Ie(n.id)},t[68]||(t[68]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1),I(" View profile ")]),8,yo),e("button",{class:"deactivate-btn",onClick:L=>ee(n.connectionId)},t[69]||(t[69]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),I(" Deactivate ")]),8,ko)])])]))),128))]))])):k("",!0)])])),N.value?(l(),i("div",{key:2,class:"modal-overlay",onClick:t[21]||(t[21]=we(n=>N.value=!1,["self"]))},[e("div",bo,[e("div",Co,[t[70]||(t[70]=e("h3",{class:"modal-title"},"Add Connection",-1)),e("button",{onClick:t[15]||(t[15]=n=>N.value=!1),class:"modal-close"},"×")]),e("div",wo,[e("div",$o,[e("button",{onClick:t[16]||(t[16]=n=>$.value="agent"),class:_([{active:$.value==="agent"},"connection-tab"])}," Connect with Agent ",2),e("button",{onClick:t[17]||(t[17]=n=>$.value="client"),class:_([{active:$.value==="client"},"connection-tab"])}," Connect with Client ",2)]),e("div",Ao,[$e(e("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=n=>V.value=n),placeholder:$.value==="agent"?"Search for agents...":"Search for clients...",class:"search-input"},null,8,Do),[[Ae,V.value]])]),e("div",To,[O.value.length>0?(l(),i("div",So,[(l(!0),i(f,null,w(O.value,n=>{var L,be;return l(),i("div",{key:n.id,class:_(["result-item",{"already-connected":U(n.id)}]),onClick:Xo=>Me(n)},[e("div",Io,[e("img",{src:$.value==="agent"?n.avatar:n.profilePicture,alt:$.value==="agent"?"Agent avatar":"Client avatar",class:"avatar-image"},null,8,Mo)]),e("div",Po,[e("h4",Bo,o(n.name),1),e("p",xo,o($.value==="agent"?((L=n.specialties)==null?void 0:L.join(", "))||"No specialties listed":((be=n.interests)==null?void 0:be.join(", "))||"No interests listed"),1)]),e("div",No,[U(n.id)?(l(),i("span",jo,"Connected")):z(n.id)?(l(),i("span",qo,"Pending")):(l(),i("span",Vo,"Select"))])],10,Lo)}),128))])):(l(),i("div",Fo,t[71]||(t[71]=[e("p",null,"No results found. Try a different search term.",-1)])))]),P.value?(l(),i("div",Uo,[e("h4",Ro,"Send connection request to "+o(P.value.name),1),$e(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=n=>F.value=n),placeholder:"Add a message to your connection request...",class:"connection-message-input"},null,512),[[Ae,F.value]])])):k("",!0)]),e("div",Eo,[e("button",{class:"btn-secondary",onClick:t[20]||(t[20]=n=>N.value=!1)}," Cancel "),e("button",{class:"btn-primary",onClick:Pe,disabled:!P.value||U((fe=P.value)==null?void 0:fe.id)||z((ge=P.value)==null?void 0:ge.id)}," Send Request ",8,zo)])])])):k("",!0)])):k("",!0),p.value==="tours"?(l(),i("div",Yo,[e("div",Ho,[e("h2",Wo,o((ye=m.value)==null?void 0:ye.name)+"'s Property Tours",1),e("button",{class:"edit-button",onClick:t[22]||(t[22]=n=>He(y).push("/tours/create"))},"Schedule Tour")]),De(Vt)])):k("",!0),p.value==="tasks"?(l(),i("div",Go,[e("div",Jo,[e("h2",Ko,o((ke=m.value)==null?void 0:ke.name)+"'s Tasks",1),e("button",{class:"edit-button",onClick:ze},"Create Task")]),De(gt)])):k("",!0)])])}}},ni=J(Qo,[["__scopeId","data-v-e07d88bb"]]);export{ni as default};
