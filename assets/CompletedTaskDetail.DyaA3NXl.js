import{r as b,a as T,o as A,g as N,b as o,e as s,n as S,t as r,v as d,F as v,f as h,m as $,i as a}from"./vendor.Bh3_gxHF.js";import{_ as B,c as x}from"./index.Cv61STol.js";const H={class:"completed-task-view"},F={class:"container"},I={key:0,class:"loading-state"},V={key:1,class:"error-state"},j={key:2,class:"task-content"},U={class:"task-header"},J={class:"task-header-top"},R={class:"task-title"},z={class:"task-summary-card"},O={class:"summary-grid"},P={class:"summary-item"},Z={class:"summary-value"},E={class:"summary-item"},W={class:"summary-value"},q={class:"summary-item"},G={class:"summary-value"},K={class:"summary-item"},Q={class:"summary-value"},X={class:"task-details-grid"},Y={class:"task-details-column"},ss={key:0,class:"task-section"},ts={class:"description-content"},es={class:"description-list"},os={key:1,class:"task-section"},as={class:"attachments-list"},is={class:"attachment-name"},ns={key:0,class:"no-attachments"},ls={class:"task-details-column"},rs={class:"task-section"},ds={key:0,class:"subsection"},cs={class:"people-list"},us={class:"person-avatar agent"},ms={class:"person-info"},vs={class:"person-name"},hs={class:"person-email"},ps={key:0,class:"no-people"},ks={key:1,class:"subsection"},_s={class:"people-list"},gs={class:"person-avatar client"},ys={class:"person-info"},fs={class:"person-name"},ws={class:"person-email"},bs={key:0,class:"no-people"},Cs={__name:"CompletedTaskDetail",setup(Ds){const C=N(),D=$(),g=x(),e=b(null),m=b(!0);T(()=>{g.setLayout({hideSidebar:!1,hideHeader:!1,background:"#F9FAFB"})});const y=()=>{D.push("/tasks/completed")},p=l=>l?new Date(l).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",",""):"N/A",M=(l,t)=>{if(!l||!t)return"N/A";const c=new Date(l),i=new Date(t)-c;if(i<6e4)return"Less than a minute";if(i<36e5){const u=Math.floor(i/6e4);return`${u} minute${u!==1?"s":""}`}if(i<864e5){const u=Math.floor(i/36e5),_=Math.floor(i%36e5/6e4);return`${u} hour${u!==1?"s":""} ${_>0?`${_} minute${_!==1?"s":""}`:""}`}const w=Math.floor(i/864e5),k=Math.floor(i%864e5/36e5);return`${w} day${w!==1?"s":""} ${k>0?`${k} hour${k!==1?"s":""}`:""}`},f=l=>l?l.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"",L=l=>l.charAt(0).toUpperCase()+l.slice(1);return A(()=>{setTimeout(()=>{g.setLayout({hideSidebar:!0,hideHeader:!0,background:"#f9fafb"})},50),m.value=!0,setTimeout(()=>{const l=C.params.id,t=localStorage.getItem("completedTasks");if(t){const i=JSON.parse(t);if(i.id===l){e.value=i,m.value=!1;return}}const n=JSON.parse(localStorage.getItem("tasks")||"[]").find(i=>i.id===l&&i.status==="completed");n&&(e.value=n),m.value=!1},800)}),(l,t)=>{var c;return a(),o("div",H,[s("header",{class:"completed-task-header"},[s("div",{class:"container"},[s("button",{class:"back-button",onClick:y},t[0]||(t[0]=[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M19 12H5M5 12L12 19M5 12L12 5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),s("span",null,"Back to Completed Tasks",-1)]))])]),s("main",F,[m.value?(a(),o("div",I,t[1]||(t[1]=[s("div",{class:"spinner"},null,-1),s("p",null,"Loading task details...",-1)]))):e.value?(a(),o("div",j,[s("div",U,[s("div",J,[t[5]||(t[5]=s("div",{class:"task-status-badge completed"},"Completed",-1)),s("div",{class:S(["task-priority",((c=e.value.priority)==null?void 0:c.toLowerCase())||"medium"])},r(L(e.value.priority||"Medium"))+" Priority ",3)]),s("h1",R,r(e.value.title),1)]),s("div",z,[s("div",O,[s("div",P,[t[6]||(t[6]=s("div",{class:"summary-label"},"Created",-1)),s("div",Z,r(p(e.value.createdAt)),1)]),s("div",E,[t[7]||(t[7]=s("div",{class:"summary-label"},"Started",-1)),s("div",W,r(p(e.value.startedAt)),1)]),s("div",q,[t[8]||(t[8]=s("div",{class:"summary-label"},"Completed",-1)),s("div",G,r(p(e.value.completedAt)),1)]),s("div",K,[t[9]||(t[9]=s("div",{class:"summary-label"},"Duration",-1)),s("div",Q,r(M(e.value.startedAt,e.value.completedAt)),1)])])]),s("div",X,[s("div",Y,[e.value.description&&e.value.description.length>0?(a(),o("section",ss,[t[10]||(t[10]=s("h2",{class:"section-title"},"Description",-1)),s("div",ts,[s("ul",es,[(a(!0),o(v,null,h(e.value.description,(n,i)=>(a(),o("li",{key:i,class:"description-item"},r(n.replace(/^- /,"")),1))),128))])])])):d("",!0),e.value.attachments&&e.value.attachments.length>0?(a(),o("section",os,[t[13]||(t[13]=s("h2",{class:"section-title"},"Attachments",-1)),s("div",as,[(a(!0),o(v,null,h(e.value.attachments,(n,i)=>(a(),o("div",{key:i,class:"attachment-item"},[t[11]||(t[11]=s("div",{class:"attachment-icon"},[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M7 21C5.89543 21 5 20.1046 5 19V3C5 1.89543 5.89543 1 7 1H14L19 6V19C19 20.1046 18.1046 21 17 21H7Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),s("path",{d:"M13 1V7H19",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("span",is,r(n.name),1),t[12]||(t[12]=s("a",{href:"#",class:"attachment-view-btn"},"View",-1))]))),128))]),!e.value.attachments||e.value.attachments.length===0?(a(),o("div",ns," No attachments were added to this task. ")):d("",!0)])):d("",!0)]),s("div",ls,[s("section",rs,[t[16]||(t[16]=s("h2",{class:"section-title"},"People Involved",-1)),e.value.agentDetails&&e.value.agentDetails.length>0?(a(),o("div",ds,[t[14]||(t[14]=s("h3",{class:"subsection-title"},"Agents",-1)),s("div",cs,[(a(!0),o(v,null,h(e.value.agentDetails,n=>(a(),o("div",{key:n.id,class:"person-card"},[s("div",us,r(f(n.name)),1),s("div",ms,[s("div",vs,r(n.name),1),s("div",hs,r(n.email||"No email provided"),1)])]))),128))]),!e.value.agentDetails||e.value.agentDetails.length===0?(a(),o("div",ps," No agents were assigned to this task. ")):d("",!0)])):d("",!0),e.value.clientDetails&&e.value.clientDetails.length>0?(a(),o("div",ks,[t[15]||(t[15]=s("h3",{class:"subsection-title"},"Clients",-1)),s("div",_s,[(a(!0),o(v,null,h(e.value.clientDetails,n=>(a(),o("div",{key:n.id,class:"person-card"},[s("div",gs,r(f(n.name)),1),s("div",ys,[s("div",fs,r(n.name),1),s("div",ws,r(n.email||"No email provided"),1)])]))),128))]),!e.value.clientDetails||e.value.clientDetails.length===0?(a(),o("div",bs," No clients were assigned to this task. ")):d("",!0)])):d("",!0)])])])])):(a(),o("div",V,[t[2]||(t[2]=s("div",{class:"error-icon"},[s("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M12 9V11M12 15H12.01M5.07183 19H18.9282C20.4678 19 21.4301 17.3333 20.6603 16L13.7321 4C12.9623 2.66667 11.0378 2.66667 10.268 4L3.33978 16C2.56998 17.3333 3.53223 19 5.07183 19Z",stroke:"#6B7280","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),t[3]||(t[3]=s("h2",null,"Task Not Found",-1)),t[4]||(t[4]=s("p",null,"We couldn't find the task you're looking for. It may have been deleted or moved.",-1)),s("button",{class:"primary-button",onClick:y},"Return to Tasks")]))])])}}},Ts=B(Cs,[["__scopeId","data-v-99bd755b"]]);export{Ts as default};
