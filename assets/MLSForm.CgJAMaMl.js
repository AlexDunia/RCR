import{r as p,c as r,b as n,e as l,j as b,m as L,i as c}from"./vendor.Bh3_gxHF.js";import{D as x}from"./DocumentForm.DC7CuWYx.js";import{u as M}from"./documents.CHcazOjv.js";import{_ as q,b as D}from"./index.Cv61STol.js";const P={class:"mls-form"},F={class:"form-card"},k={class:"card-header"},w={key:0,class:"skeleton-loader label-skeleton"},B={key:1,class:"form-title"},N={class:"card-content"},R={__name:"MLSForm",setup(E){const m=L(),f=M(),i=D(),s=p(!0),a=p(!1),h=r(()=>"/receipts-docs/view-docs"),g=r(()=>"/profile/documents"),y=r(()=>"/"),_=r(()=>i.currentRole==="admin"?h.value:i.currentRole==="agent"?g.value:y.value);setTimeout(()=>{s.value=!1},1e3);const v=[{name:"propertyAddress",label:"Property Address",type:"text",placeholder:"e.g., 123 Main St, City, State, ZIP",required:!0},{name:"listingPrice",label:"Listing Price",type:"text",placeholder:"e.g., $500,000",required:!0},{name:"bedrooms",label:"Number of Bedrooms",type:"number",placeholder:"e.g., 3",required:!0},{name:"bathrooms",label:"Number of Bathrooms",type:"number",placeholder:"e.g., 2.5",required:!0},{name:"squareFootage",label:"Square Footage",type:"number",placeholder:"e.g., 2000",required:!0},{name:"propertyType",label:"Property Type",type:"select",required:!0,options:["Single Family Home","Condo","Townhouse","Multi-Family","Land","Commercial"]},{name:"propertyDescription",label:"Property Description",type:"textarea",placeholder:"Describe the key features and selling points of the property",required:!0},{name:"documents",label:"Upload Documents",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.jpg,.jpeg,.png,.gif,.tiff,.heic",multiple:!0,required:!1,placeholder:"Upload property photos, floor plans, and other relevant documents"}],S=async t=>{try{a.value=!0;const e=[];t.documents&&t.documents.length>0&&t.documents.forEach(o=>{var u;e.push({name:o.name||"Unnamed file",type:o.type||"application/octet-stream",size:o.size||0,lastModified:((u=o.file)==null?void 0:u.lastModified)||Date.now(),preview:o.preview||null})}),await f.saveMLSDocument({...t,type:"mls",createdAt:new Date().toISOString(),files:e}),a.value=!1,d("MLS listing document saved successfully!","success"),m.push(_.value)}catch(e){a.value=!1,console.error("Error saving MLS document:",e),d("Error saving document: "+e.message,"error")}},d=(t,e)=>{console.log(`${e}: ${t}`)};return(t,e)=>(c(),n("div",P,[l("div",F,[l("div",k,[s.value?(c(),n("div",w)):(c(),n("h2",B,"MLS Listing"))]),l("div",N,[b(x,{fields:v,isLoading:s.value,onSubmit:S},null,8,["isLoading"])])])]))}},U=q(R,[["__scopeId","data-v-2171d418"]]);export{U as default};
