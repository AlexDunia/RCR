import{r as c,c as f,o as V,p as B,b as n,e,v as m,n as u,I as k,L as b,F as C,f as M,q as D,t as i,O as E,i as r}from"./vendor.Bh3_gxHF.js";import{_ as T}from"./index.Cv61STol.js";const j={class:"messages-container"},H={class:"messages-wrapper"},P={class:"sidebar-header"},U={class:"search-box"},W={class:"contacts-list"},J=["onClick"],R={class:"contact-avatar"},z=["src","alt"],N={class:"contact-info"},q={class:"contact-name"},F={class:"contact-role"},G={class:"contact-meta"},K={class:"time"},O={key:0,class:"unread-count"},Q={class:"chat-header"},Y={class:"chat-contact"},$={class:"contact-avatar"},X=["src","alt"],Z={class:"contact-info"},ee={class:"contact-name"},te={class:"contact-role"},se={class:"messages-list"},ae={class:"message-date-separator"},oe={key:0,class:"message-avatar"},ne=["src","alt"],ie={class:"message-content"},re={class:"message-bubble"},le={class:"message-time"},de={class:"message-input"},ce={__name:"MessagesView",setup(ue){const p=c(""),v=c(""),g=c([{id:1,name:"John Smith",role:"Real Estate Agent",status:"online",avatar:"https://randomuser.me/api/portraits/men/32.jpg",lastMessageTime:"2h",unreadCount:3,messages:[{id:1,type:"received",text:"Good morning! I wanted to follow up about the property viewing scheduled for next week.",time:"9:32 AM"},{id:2,type:"sent",text:"Hi John! Yes, I'm still available for the viewing. Looking forward to it.",time:"9:45 AM"},{id:3,type:"received",text:"Great! I've scheduled a viewing for the property on Lake View Drive for June 12 at 2:00 PM.",time:"10:15 AM"},{id:4,type:"received",text:"I'll meet you there. Here's the address: 123 Lake View Drive, Lakeside, CA",time:"10:16 AM"},{id:5,type:"sent",text:"Perfect! I'll see you there. Is there anything I should bring or prepare?",time:"10:30 AM"}]},{id:2,name:"Mary Johnson",role:"Property Manager",status:"offline",avatar:"https://randomuser.me/api/portraits/women/44.jpg",lastMessageTime:"1d",unreadCount:0,messages:[{id:1,type:"received",text:"Hello! I wanted to discuss the maintenance schedule for your property.",time:"2:15 PM"},{id:2,type:"sent",text:"Hi Mary, sure! What details do you need to go over?",time:"2:30 PM"},{id:3,type:"received",text:"We need to schedule the annual HVAC maintenance and carpet cleaning.",time:"2:35 PM"}]},{id:3,name:"Real City Support",role:"Customer Service",status:"online",avatar:"https://randomuser.me/api/portraits/men/68.jpg",lastMessageTime:"3d",unreadCount:0,messages:[{id:1,type:"received",text:"Welcome to Real City! How can we assist you today?",time:"11:00 AM"},{id:2,type:"sent",text:"I need help updating my profile information.",time:"11:05 AM"},{id:3,type:"received",text:"I'll be happy to help you with that. Which information would you like to update?",time:"11:07 AM"}]}]),a=c(g.value[0]),I=f(()=>{const o=p.value.toLowerCase();return g.value.filter(t=>t.name.toLowerCase().includes(o)||t.role.toLowerCase().includes(o))}),A=f(()=>new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})),L=o=>{console.log("Switching to contact:",o.name),a.value={...o}},_=()=>{if(!v.value.trim())return;const o={id:Date.now(),type:"sent",text:v.value.trim(),time:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},t=g.value.find(s=>s.id===a.value.id);t&&(t.messages.push(o),a.value={...t}),v.value=""},w=o=>{o.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(o.target.alt)+"&background=random"},l=c(!1),d=c(!1),y=()=>{l.value=window.innerWidth<=768,l.value||(d.value=!1)},h=()=>{d.value=!d.value,d.value?document.body.style.overflow="hidden":document.body.style.overflow=""},S=o=>{L(o),l.value&&h()};return V(()=>{y(),window.addEventListener("resize",y)}),B(()=>{window.removeEventListener("resize",y)}),(o,t)=>(r(),n("div",j,[e("div",H,[l.value?(r(),n("button",{key:0,class:"mobile-toggle",onClick:h},t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)]))):m("",!0),e("div",{class:u(["contacts-sidebar",{show:d.value}])},[e("div",P,[t[4]||(t[4]=e("h2",null,"Messages",-1)),l.value?(r(),n("button",{key:0,class:"close-sidebar",onClick:h},t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))):m("",!0)]),e("div",U,[k(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),placeholder:"Search contacts..."},null,512),[[b,p.value]]),t[5]||(t[5]=e("button",{class:"search-button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1))]),e("div",W,[(r(!0),n(C,null,M(I.value,s=>{var x;return r(),n("div",{key:s.id,class:u(["contact-item",{active:((x=a.value)==null?void 0:x.id)===s.id}]),onClick:ve=>S(s)},[e("div",R,[e("img",{src:s.avatar,alt:s.name,onError:w},null,40,z),e("span",{class:u(["status-indicator",s.status])},null,2)]),e("div",N,[e("div",q,i(s.name),1),e("div",F,i(s.role),1)]),e("div",G,[e("span",K,i(s.lastMessageTime),1),s.unreadCount?(r(),n("span",O,i(s.unreadCount),1)):m("",!0)])],10,J)}),128))])],2),e("div",{class:u(["chat-area",{"sidebar-open":d.value&&l.value}])},[e("div",Q,[e("div",Y,[e("div",$,[e("img",{src:a.value.avatar,alt:a.value.name,onError:w},null,40,X),e("span",{class:u(["status-indicator",a.value.status])},null,2)]),e("div",Z,[e("div",ee,i(a.value.name),1),e("div",te,i(a.value.role)+" â€¢ "+i(a.value.status==="online"?"Active now":"Offline"),1)])]),t[6]||(t[6]=D('<div class="chat-actions" data-v-0018aec5><button class="action-button" data-v-0018aec5><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0018aec5><circle cx="12" cy="12" r="1" data-v-0018aec5></circle><circle cx="19" cy="12" r="1" data-v-0018aec5></circle><circle cx="5" cy="12" r="1" data-v-0018aec5></circle></svg></button></div>',1))]),e("div",se,[e("div",ae,[e("span",null,i(A.value),1)]),(r(!0),n(C,null,M(a.value.messages,s=>(r(),n("div",{key:s.id,class:u(["message-item",s.type])},[s.type==="received"?(r(),n("div",oe,[e("img",{src:a.value.avatar,alt:a.value.name,onError:w},null,40,ne)])):m("",!0),e("div",ie,[e("div",re,[e("p",null,i(s.text),1)]),e("div",le,i(s.time),1)])],2))),128))]),e("div",de,[t[8]||(t[8]=e("button",{class:"attachment-button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})])],-1)),k(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),onKeyup:E(_,["enter"]),placeholder:"Type a message..."},null,544),[[b,v.value]]),e("button",{class:"send-button",onClick:_},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})],-1)]))])],2)]),d.value&&l.value?(r(),n("div",{key:0,class:"sidebar-overlay",onClick:h})):m("",!0)]))}},pe=T(ce,[["__scopeId","data-v-0018aec5"]]);export{pe as default};
