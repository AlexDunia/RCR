import{r as d,c as N,o as ye,b as n,e as l,v as m,y as ge,n as b,I as F,L as E,t as r,F as $,f as A,s as _,J as be,m as we,i as s,l as M,M as he}from"./vendor.Bh3_gxHF.js";import{u as ke}from"./propertyStore.DHFOBPSf.js";import{_ as Ce}from"./index.Cv61STol.js";import{d as Te}from"./debounce.BMmXVQ06.js";const _e={class:"hero-section"},Le={class:"hero-content"},Pe={class:"filter-buttons"},Re={class:"search-filters"},Se={class:"search-container"},xe={class:"filters"},Fe={class:"bedrooms-filter-container"},$e={key:0,class:"bedrooms-dropdown-menu"},Ae={class:"bedrooms-options"},Ie=["onClick"],De={class:"property-type-filter-container"},Be={class:"price-filter-container"},Ee={class:"price-range-inputs"},Me={class:"price-input-group"},Ue={class:"price-input-group"},Oe={class:"location-filter-container"},Ne={key:0,class:"location-dropdown-menu"},Ve={class:"location-search"},ze={class:"suggested-countries"},Ge=["onClick"],Ke={class:"country-code"},He={class:"country-name"},Ye={key:0,class:"active-filters"},je={class:"active-filters-container"},qe={class:"filter-tags"},Je={key:0,class:"filter-tag"},Ze={key:1,class:"filter-tag"},Qe={key:2,class:"filter-tag"},We={key:3,class:"filter-tag"},Xe={key:4,class:"filter-tag"},el={class:"properties-grid"},ll={key:0,class:"loading-state"},ol={key:1,class:"no-results"},tl=["onClick"],al={class:"property-image"},sl=["src","alt"],nl={class:"property-status"},rl={class:"property-details"},il={class:"property-price"},ul={class:"property-location"},cl={class:"property-features"},dl={class:"property-type-modal"},vl={class:"property-type-categories"},pl={class:"category-label"},fl={class:"property-type-options"},ml=["id","value"],yl=["for"],gl=Object.assign({name:"ClientPropertiesView"},{__name:"Properties",setup(bl){const ee=we(),L=ke(),I=d(""),w=d("all"),v=d(!0),p=d(!1),h=d(!1),g=d(!1),y=d(!1),P=d(""),f=d(null),R=d(null),V=d(null),S=d(""),x=d(""),U={residential:{label:"Residential",options:[{value:"houses",label:"Houses"},{value:"apartments",label:"Apartments"},{value:"condos",label:"Condos"}]},commercial:{label:"Commercial",options:[{value:"office_space",label:"Office space"},{value:"retail_stores",label:"Retail stores"},{value:"warehouse",label:"Warehouse"}]},land:{label:"Land",options:[{value:"plots",label:"Plots(Urban or Rural)"},{value:"agricultural",label:"Agricultural land"},{value:"warehouse_land",label:"Warehouse"}]},other:{label:"Other (optional)",options:[{value:"vacation_homes",label:"Vacation homes"},{value:"multi_family",label:"Multi-family homes (duplexes, triplexes)."},{value:"specialty",label:"Specialty properties (e.g., farms, vineyards)."}]}},le=Object.values(U).reduce((t,e)=>(e.options.forEach(i=>{t.push(i.value)}),t),[]),z=[{value:"1",label:"One"},{value:"2",label:"Two"},{value:"3",label:"Three"},{value:"4",label:"Four"},{value:"5+",label:"Others (5+ years)"}],oe=z.map(t=>t.value),G=[{code:"GB",name:"London, United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{code:"NG",name:"Lekki, Nigeria",flag:"ðŸ‡³ðŸ‡¬"},{code:"US",name:"United States",flag:"ðŸ‡ºðŸ‡¸"},{code:"CA",name:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{code:"AU",name:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{code:"DE",name:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"FR",name:"France",flag:"ðŸ‡«ðŸ‡·"},{code:"IT",name:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{code:"ES",name:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{code:"JP",name:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{code:"CN",name:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"IN",name:"India",flag:"ðŸ‡®ðŸ‡³"},{code:"BR",name:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{code:"ZA",name:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"AE",name:"United Arab Emirates",flag:"ðŸ‡¦ðŸ‡ª"},{code:"SG",name:"Singapore",flag:"ðŸ‡¸ðŸ‡¬"},{code:"NZ",name:"New Zealand",flag:"ðŸ‡³ðŸ‡¿"},{code:"MX",name:"Mexico",flag:"ðŸ‡²ðŸ‡½"},{code:"KR",name:"South Korea",flag:"ðŸ‡°ðŸ‡·"},{code:"CH",name:"Switzerland",flag:"ðŸ‡¨ðŸ‡­"},{code:"SE",name:"Sweden",flag:"ðŸ‡¸ðŸ‡ª"},{code:"TH",name:"Thailand",flag:"ðŸ‡¹ðŸ‡­"},{code:"GH",name:"Ghana",flag:"ðŸ‡¬ðŸ‡­"},{code:"KE",name:"Kenya",flag:"ðŸ‡°ðŸ‡ª"},{code:"EG",name:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"SA",name:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"TR",name:"Turkey",flag:"ðŸ‡¹ðŸ‡·"},{code:"IL",name:"Israel",flag:"ðŸ‡®ðŸ‡±"},{code:"RU",name:"Russia",flag:"ðŸ‡·ðŸ‡º"},{code:"AR",name:"Argentina",flag:"ðŸ‡¦ðŸ‡·"}],a=d({propertyType:[],bedrooms:null,location:null,priceRange:null}),K=N(()=>{var t;try{let e=L.properties;if(!e||e.length===0)return[];if(w.value!=="all"&&(e=e.filter(i=>{var o;return((o=i.status)==null?void 0:o.toLowerCase())===(w.value==="buy"?"for sale":"for rent")})),I.value.trim()){const i=I.value.toLowerCase().trim();e=e.filter(o=>{var u,c,T;return((u=o.name)==null?void 0:u.toLowerCase().includes(i))||((c=o.location)==null?void 0:c.toLowerCase().includes(i))||((T=o.address)==null?void 0:T.toLowerCase().includes(i))})}if(((t=a.value.propertyType)==null?void 0:t.length)>0&&(e=e.filter(i=>a.value.propertyType.some(o=>{var c;const u=((c=i.type)==null?void 0:c.toLowerCase())||"";return u===o.toLowerCase()||u.includes(o.toLowerCase())}))),a.value.bedrooms&&(e=e.filter(i=>{const o=parseInt(i.bedrooms)||0,u=parseInt(a.value.bedrooms)||0;return o>=u})),a.value.location){const i=a.value.location.toLowerCase();e=e.filter(o=>{var Q,W,X;const u=((Q=o.location)==null?void 0:Q.toLowerCase())||"",c=((W=o.country)==null?void 0:W.toLowerCase())||"",T=((X=o.city)==null?void 0:X.toLowerCase())||"";return u.includes(i)||c.includes(i)||T.includes(i)})}if(a.value.priceRange){const{min:i,max:o}=a.value.priceRange;e=e.filter(u=>{const c=parseFloat(String(u.price).replace(/[^0-9.]/g,""))||0;return c>=i&&(o===1/0||c<=o)})}return e}catch(e){return console.error("Error filtering properties:",e),[]}}),te=N(()=>{if(!P.value)return G;const t=P.value.toLowerCase();return G.filter(e=>e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t))}),H=N(()=>{var t;return w.value!=="all"||a.value.bedrooms||((t=a.value.propertyType)==null?void 0:t.length)>0||a.value.location||a.value.priceRange}),D=t=>{v.value=!0,w.value=t,t==="all"&&(a.value={propertyType:[],bedrooms:null,location:null,priceRange:null}),setTimeout(()=>{v.value=!1},300)},ae=t=>{ee.push(`/client-property/${t}`)},se=()=>{},ne=()=>{p.value=!p.value,p.value?(V.value=f.value,document.body.style.overflow="hidden"):(Y(),document.body.style.overflow=""),h.value=!1,g.value=!1,y.value=!1},re=()=>{g.value=!g.value,p.value=!1,h.value=!1,y.value=!1},ie=()=>{y.value=!y.value,y.value&&(P.value=""),p.value=!1,h.value=!1,g.value=!1},ue=t=>{if(!oe.includes(t.value)){console.error("Invalid bedroom option:",t);return}v.value=!0,a.value.bedrooms=t.value,g.value=!1,C()},Y=()=>{f.value&&le.includes(f.value)?a.value.propertyType=[f.value]:a.value.propertyType=null,v.value=!0,C()},j=()=>{Y(),p.value=!1,document.body.style.overflow=""},ce=()=>{f.value=V.value,p.value=!1,document.body.style.overflow=""},de=t=>{t.target.classList.contains("property-type-modal-overlay")&&j()},q=()=>{var t;return f.value&&((t=U[f.value])==null?void 0:t.label)||"Property type"},ve=()=>{if(a.value.priceRange){const{min:t,max:e}=a.value.priceRange;return e===1/0?`$${k(t)}+`:`$${k(t)} - $${k(e)}`}return"Price Range"},pe=t=>{R.value=t,a.value.location=t.name,y.value=!1,v.value=!0,C()},J=()=>{const t=parseFloat(S.value)||0,e=parseFloat(x.value)||1/0;t>=0&&(e===1/0||e>=t)&&(a.value.priceRange={min:t,max:e},v.value=!0,C())},k=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t),B=t=>{switch(v.value=!0,t){case"bedrooms":a.value.bedrooms=null;break;case"propertyType":a.value.propertyType=[],f.value=null;break;case"location":a.value.location=null,R.value=null;break;case"priceRange":a.value.priceRange=null,S.value="",x.value="";break}C()},fe=()=>{v.value=!0,w.value="all",a.value={propertyType:[],bedrooms:null,location:null,priceRange:null},f.value=null,R.value=null,S.value="",x.value="",C()},C=Te(()=>{setTimeout(()=>{v.value=!1},500)},300),me=t=>{t.target.closest(".price-filter-container")||(h.value=!1),t.target.closest(".bedrooms-filter-container")||(g.value=!1),t.target.closest(".property-type-filter-container")||(p.value=!1),t.target.closest(".location-filter-container")||(y.value=!1)},Z=()=>{h.value=!h.value,p.value=!1,g.value=!1,y.value=!1},O=t=>w.value===t;return ye(async()=>{try{v.value=!0,typeof L.fetchProperties=="function"?await L.fetchProperties():(!L.properties||L.properties.length===0)&&console.warn("Property store is empty and no fetchProperties method available")}catch(t){console.error("Error fetching properties:",t)}finally{setTimeout(()=>{v.value=!1},500)}}),(t,e)=>{var i;return s(),n("div",{class:"client-properties",onClick:me},[l("div",_e,[l("div",Le,[e[18]||(e[18]=l("h1",null,"Find Your Dream Home",-1)),e[19]||(e[19]=l("p",null,"Browse through our curated selection of properties",-1)),l("div",Pe,[l("button",{class:b({active:O("all")}),onClick:e[0]||(e[0]=o=>D("all"))},"All Properties",2),l("button",{class:b({active:O("buy")}),onClick:e[1]||(e[1]=o=>D("buy"))},"For Sale",2),l("button",{class:b({active:O("rent")}),onClick:e[2]||(e[2]=o=>D("rent"))},"For Rent",2)])])]),l("div",Re,[l("div",Se,[e[20]||(e[20]=l("i",{class:"search-icon"},"âŒ•",-1)),F(l("input",{type:"text",placeholder:"Search...",class:"search-input","onUpdate:modelValue":e[3]||(e[3]=o=>I.value=o),maxlength:"100"},null,512),[[E,I.value]]),e[21]||(e[21]=l("span",{class:"search-key"},"âŒ˜ K",-1))]),l("div",xe,[l("div",Fe,[l("div",{class:b(["filter-dropdown",{active:g.value}]),onClick:re},[l("span",null,r(a.value.bedrooms?`${a.value.bedrooms} Bedroom${a.value.bedrooms!=="1"?"s":""}`:"Bedrooms"),1),e[22]||(e[22]=l("i",{class:"fas fa-chevron-down"},null,-1))],2),g.value?(s(),n("div",$e,[l("div",Ae,[(s(),n($,null,A(z,o=>l("div",{key:o.value,class:b(["bedroom-option",{selected:a.value.bedrooms===o.value}]),onClick:u=>ue(o)},r(o.label),11,Ie)),64))])])):m("",!0)]),l("div",De,[l("div",{class:b(["filter-dropdown",{active:p.value}]),onClick:ne},[l("span",null,r(q()),1),e[23]||(e[23]=l("i",{class:"fas fa-chevron-down"},null,-1))],2)]),l("div",Be,[l("div",{class:b(["filter-dropdown",{active:h.value}]),onClick:Z},[l("span",null,r(ve()),1),e[24]||(e[24]=l("i",{class:"fas fa-chevron-down"},null,-1))],2),h.value?(s(),n("div",{key:0,class:"price-dropdown-menu",onClick:e[8]||(e[8]=_(()=>{},["stop"]))},[l("div",Ee,[l("div",Me,[e[25]||(e[25]=l("label",null,"Min($):",-1)),F(l("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>S.value=o),placeholder:"Your minimum price range",onInput:J,class:"price-input",onClick:e[5]||(e[5]=_(()=>{},["stop"]))},null,544),[[E,S.value]])]),l("div",Ue,[e[26]||(e[26]=l("label",null,"Max($):",-1)),F(l("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),placeholder:"Your maximum price range",onInput:J,class:"price-input",onClick:e[7]||(e[7]=_(()=>{},["stop"]))},null,544),[[E,x.value]])]),l("button",{class:"price-done-btn",onClick:Z},"Done")])])):m("",!0)]),l("div",Oe,[l("div",{class:b(["filter-dropdown",{active:y.value}]),onClick:ie},e[27]||(e[27]=[l("span",null,"Location",-1),l("i",{class:"fas fa-chevron-down"},null,-1)]),2),y.value?(s(),n("div",Ne,[l("div",Ve,[F(l("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>P.value=o),placeholder:"Search countries...",onClick:e[10]||(e[10]=_(()=>{},["stop"])),class:"location-search-input"},null,512),[[E,P.value]])]),l("div",ze,[e[28]||(e[28]=l("div",{class:"suggested-header"},"Suggested Countries",-1)),(s(!0),n($,null,A(te.value,o=>(s(),n("div",{key:o.code,class:b(["country-option",{selected:R.value&&R.value.code===o.code}]),onClick:_(u=>pe(o),["stop"])},[l("span",Ke,r(o.code),1),l("span",He,r(o.name),1)],10,Ge))),128))])])):m("",!0)])])]),H.value?(s(),n("div",Ye,[l("div",je,[e[29]||(e[29]=l("div",{class:"active-filters-title"},"Active Filters:",-1)),l("div",qe,[w.value!=="all"?(s(),n("div",Je,[l("span",null,r(w.value==="buy"?"For Sale":"For Rent"),1),l("button",{onClick:e[11]||(e[11]=o=>D("all")),class:"remove-filter"},"Ã—")])):m("",!0),a.value.bedrooms?(s(),n("div",Ze,[l("span",null,r(a.value.bedrooms)+" Bedrooms",1),l("button",{onClick:e[12]||(e[12]=o=>B("bedrooms")),class:"remove-filter"},"Ã—")])):m("",!0),(i=a.value.propertyType)!=null&&i.length?(s(),n("div",Qe,[l("span",null,r(q()),1),l("button",{onClick:e[13]||(e[13]=o=>B("propertyType")),class:"remove-filter"},"Ã—")])):m("",!0),a.value.location?(s(),n("div",We,[l("span",null,r(a.value.location),1),l("button",{onClick:e[14]||(e[14]=o=>B("location")),class:"remove-filter"},"Ã—")])):m("",!0),a.value.priceRange?(s(),n("div",Xe,[l("span",null,"$"+r(k(a.value.priceRange.min))+" - $"+r(k(a.value.priceRange.max)),1),l("button",{onClick:e[15]||(e[15]=o=>B("priceRange")),class:"remove-filter"},"Ã—")])):m("",!0),H.value?(s(),n("button",{key:5,onClick:fe,class:"clear-all-button"}," Clear All ")):m("",!0)])])])):m("",!0),l("div",el,[v.value?(s(),n("div",ll,e[30]||(e[30]=[l("div",{class:"loader"},null,-1),l("p",null,"Loading properties...",-1)]))):K.value.length===0?(s(),n("div",ol,e[31]||(e[31]=[l("h3",null,"No properties found",-1),l("p",null,"Try adjusting your search criteria",-1)]))):(s(!0),n($,{key:2},A(K.value,o=>(s(),n("div",{class:"property-card",key:o.id,onClick:u=>ae(o.id)},[l("div",al,[l("img",{src:o.image,alt:o.name,loading:"lazy"},null,8,sl),l("div",nl,r(o.status),1),l("button",{class:"favorite-button",onClick:e[16]||(e[16]=_(u=>se(),["stop"]))},e[32]||(e[32]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})],-1)]))]),l("div",rl,[l("h3",null,r(o.name),1),l("p",il,r(k(o.price)),1),l("p",ul,[e[33]||(e[33]=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[l("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),l("circle",{cx:"12",cy:"10",r:"3"})],-1)),M(" "+r(o.location),1)]),l("div",cl,[l("span",null,[e[34]||(e[34]=l("i",{class:"fas fa-bed"},null,-1)),M(" "+r(o.bedrooms)+" beds",1)]),l("span",null,[e[35]||(e[35]=l("i",{class:"fas fa-bath"},null,-1)),M(" "+r(o.bathrooms)+" baths",1)]),l("span",null,[e[36]||(e[36]=l("i",{class:"fas fa-ruler-combined"},null,-1)),M(" "+r(o.size)+" sqft",1)])])])],8,tl))),128))]),p.value?(s(),ge(be,{key:1,to:"body"},[l("div",{class:"property-type-modal-overlay",onClick:de},[l("div",dl,[l("div",{class:"modal-header"},[e[37]||(e[37]=l("h3",null,"Select Property Type",-1)),l("button",{class:"close-button",onClick:ce},"Ã—")]),l("div",vl,[(s(),n($,null,A(U,(o,u)=>l("div",{key:u,class:"property-type-category"},[l("div",pl,r(o.label),1),l("div",fl,[(s(!0),n($,null,A(o.options,c=>(s(),n("div",{key:c.value,class:"property-option"},[F(l("input",{type:"radio",id:c.value,value:c.value,"onUpdate:modelValue":e[17]||(e[17]=T=>f.value=T),name:"propertyType"},null,8,ml),[[he,f.value]]),l("label",{for:c.value},r(c.label),9,yl)]))),128))])])),64))]),l("div",{class:"property-type-actions"},[l("button",{class:"done-button",onClick:j},"Done")])])])])):m("",!0)])}}}),Tl=Ce(gl,[["__scopeId","data-v-5a72c1b8"]]);export{Tl as default};
