import{r,c as O,w as G,o as J,p as Se,y as je,i,b as c,v as E,e,I as w,N as Q,F as $,f as x,t as h,n as R,L as D,s as q,J as Te,R as De,m as $e,g as xe,a as Ae,j as re,l as ie,q as ce}from"./vendor.Bh3_gxHF.js";import{u as Me}from"./tourStore.yq7Hhqko.js";import{_ as X}from"./index.Cv61STol.js";const Ne={class:"agent-modal__header"},Ee={class:"agent-modal__network"},Le=["value"],Ve={class:"agent-modal__tabs"},Ue={class:"agent-modal__actions-bar"},qe={class:"agent-modal__search"},Fe=["placeholder"],Ie=["disabled"],Be={class:"agent-modal__list",role:"listbox","aria-label":"Agent selection list"},Oe=["onClick"],ze={class:"agent-modal__agent-info"},Pe=["src","alt"],Je={class:"agent-modal__details"},Re={class:"agent-modal__name"},He={class:"agent-modal__email"},We={class:"agent-modal__checkbox"},Ye=["checked","onChange"],Ke={__name:"AgentModal",props:{isOpen:{type:Boolean,required:!0},initialSelectedAgents:{type:Array,default:()=>[]}},emits:["close","select"],setup(L,{emit:k}){const T=L,y=k,p=r("agent"),f=r(""),d=r([]),_=r(""),a=r([{id:1,name:"Network 1"},{id:2,name:"Network 2"}]),S=r([{id:1,name:"John Doe",email:"john.doe@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:2,name:"Sarah Johnson",email:"sarah.j@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:3,name:"Michael Brown",email:"mbrown@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:4,name:"Emma Wilson",email:"ewilson@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:5,name:"James Anderson",email:"james.a@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:6,name:"Lisa Chen",email:"lisa.chen@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:7,name:"David Kim",email:"david.k@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:8,name:"Anna Martinez",email:"anna.m@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:9,name:"Robert Taylor",email:"robert.t@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:10,name:"Emily Davis",email:"emily.d@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:11,name:"Thomas White",email:"thomas.w@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:12,name:"Jessica Lee",email:"jessica.l@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:13,name:"William Clark",email:"william.c@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:14,name:"Sofia Rodriguez",email:"sofia.r@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:15,name:"Daniel Park",email:"daniel.p@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:16,name:"Olivia Thompson",email:"olivia.t@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:17,name:"Lucas Garcia",email:"lucas.g@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:18,name:"Isabella Kim",email:"isabella.k@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:19,name:"Alexander Wang",email:"alex.w@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"},{id:20,name:"Victoria Patel",email:"victoria.p@gmail.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png"}]),A=O(()=>{if(!f.value)return S.value;const l=f.value.toLowerCase();return S.value.filter(s=>s.name.toLowerCase().includes(l)||s.email.toLowerCase().includes(l))}),M=O(()=>S.value.filter(l=>d.value.includes(l.id))),N=O(()=>p.value==="agent"?A.value:M.value),v=l=>{l.target.src="/default-avatar.jpg"},g=l=>{const s=d.value.indexOf(l.id);s===-1?d.value.push(l.id):d.value.splice(s,1)},b=()=>{y("close")},V=()=>{const l=S.value.filter(s=>d.value.includes(s.id));y("select",l),b()};G(()=>T.isOpen,l=>{l&&(d.value=T.initialSelectedAgents.map(s=>s.id))},{immediate:!0});const u=l=>{l.key==="Escape"&&b()};return J(()=>{document.addEventListener("keydown",u)}),Se(()=>{document.removeEventListener("keydown",u)}),(l,s)=>(i(),je(Te,{to:"body"},[L.isOpen?(i(),c("div",{key:0,class:"agent-modal__overlay",onClick:b},[e("div",{class:"agent-modal",role:"dialog","aria-modal":"true","aria-label":"Add agent modal",onClick:s[5]||(s[5]=q(()=>{},["stop"]))},[e("button",{class:"agent-modal__close","aria-label":"Close modal",onClick:b}," × "),e("div",Ne,[s[7]||(s[7]=e("h2",{class:"agent-modal__title"},"Add agent",-1)),e("div",Ee,[w(e("select",{"onUpdate:modelValue":s[0]||(s[0]=m=>_.value=m),class:"agent-modal__network-select"},[s[6]||(s[6]=e("option",{value:"",disabled:"",selected:""},"You can only add agents or clients in your network",-1)),(i(!0),c($,null,x(a.value,m=>(i(),c("option",{key:m.id,value:m.id},h(m.name),9,Le))),128))],512),[[Q,_.value]])]),e("div",Ve,[e("button",{class:R(["agent-modal__tab",{active:p.value==="agent"}]),onClick:s[1]||(s[1]=m=>p.value="agent")}," Agent ",2),e("button",{class:R(["agent-modal__tab",{active:p.value==="selected"}]),onClick:s[2]||(s[2]=m=>p.value="selected")}," Selected agents ("+h(d.value.length)+") ",3)])]),e("div",Ue,[e("div",qe,[w(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=m=>f.value=m),class:"agent-modal__search-input",placeholder:p.value==="agent"?"Search agents":"Search selected agents"},null,8,Fe),[[D,f.value]])]),e("button",{class:"agent-modal__done",onClick:V,disabled:d.value.length===0}," Done ",8,Ie)]),e("div",Be,[(i(!0),c($,null,x(N.value,m=>(i(),c("div",{key:m.id,class:"agent-modal__list-item",onClick:F=>g(m)},[e("div",ze,[e("img",{src:m.avatar,alt:m.name,class:"agent-modal__avatar",onError:v},null,40,Pe),e("div",Je,[e("span",Re,h(m.name),1),e("span",He,h(m.email),1)])]),e("div",We,[e("input",{type:"checkbox",checked:d.value.includes(m.id),onClick:s[4]||(s[4]=q(()=>{},["stop"])),onChange:F=>g(m)},null,40,Ye)])],8,Oe))),128))])])])):E("",!0)]))}},Ge=X(Ke,[["__scopeId","data-v-d6443274"]]),Qe={key:0,class:"client-modal",role:"dialog","aria-labelledby":"client-modal-title"},Xe={class:"client-modal__content"},Ze={class:"client-modal__network"},et=["value"],tt={class:"client-modal__tabs",role:"tablist"},at=["aria-selected","onClick"],st={class:"client-modal__search"},ot={class:"client-modal__list",role:"list"},lt={class:"client-modal__checkbox-label"},nt=["checked","onChange"],rt={class:"client-modal__client-info"},it=["src","alt"],ct={class:"client-modal__details"},dt={class:"client-modal__name"},ut={class:"client-modal__email"},mt={__name:"ClientModal",props:{isOpen:{type:Boolean,required:!0},initialSelectedClients:{type:Array,default:()=>[]}},emits:["close","select"],setup(L,{emit:k}){const T=L,y=k,p=r(""),f=r("all"),d=r(""),_=r(T.initialSelectedClients),a=[{id:1,name:"Network A"},{id:2,name:"Network B"},{id:3,name:"Network C"}],S=[{id:"all",name:"All"},{id:"recent",name:"Recent"},{id:"favorites",name:"Favorites"}],A=[{id:1,name:"Christian Anderson",email:"christian.a@example.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png",network:1,recent:!0,favorite:!1},{id:2,name:"Emma Thompson",email:"emma.t@example.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png",network:1,recent:!0,favorite:!0},{id:3,name:"Michael Chen",email:"michael.c@example.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png",network:2,recent:!1,favorite:!0},{id:4,name:"Sarah Johnson",email:"sarah.j@example.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png",network:2,recent:!0,favorite:!1},{id:5,name:"David Wilson",email:"david.w@example.com",avatar:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png",network:3,recent:!1,favorite:!0}],M=O(()=>{let u=A;if(p.value&&(u=u.filter(l=>l.network===p.value)),f.value==="recent"?u=u.filter(l=>l.recent):f.value==="favorites"&&(u=u.filter(l=>l.favorite)),d.value){const l=d.value.toLowerCase();u=u.filter(s=>s.name.toLowerCase().includes(l)||s.email.toLowerCase().includes(l))}return u}),N=u=>{u.target.src="/default-avatar.jpg"},v=u=>_.value.some(l=>l.id===u.id),g=u=>{v(u)?_.value=_.value.filter(l=>l.id!==u.id):_.value=[..._.value,u]},b=()=>{y("close")},V=()=>{y("select",_.value),y("close")};return(u,l)=>L.isOpen?(i(),c("div",Qe,[e("div",{class:"client-modal__overlay",onClick:b}),e("div",Xe,[e("header",{class:"client-modal__header"},[l[2]||(l[2]=e("h2",{id:"client-modal-title",class:"client-modal__title"},"Add client",-1)),e("button",{class:"client-modal__close",onClick:b,"aria-label":"Close modal"}," × ")]),e("div",Ze,[l[4]||(l[4]=e("label",{for:"network",class:"client-modal__label"},"Select network",-1)),w(e("select",{id:"network","onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),class:"client-modal__select",required:""},[l[3]||(l[3]=e("option",{value:""},"All networks",-1)),(i(),c($,null,x(a,s=>e("option",{key:s.id,value:s.id},h(s.name),9,et)),64))],512),[[Q,p.value]])]),e("div",tt,[(i(),c($,null,x(S,s=>e("button",{key:s.id,class:R(["client-modal__tab",{"client-modal__tab--active":f.value===s.id}]),role:"tab","aria-selected":f.value===s.id,onClick:m=>f.value=s.id},h(s.name),11,at)),64))]),e("div",st,[w(e("input",{type:"search","onUpdate:modelValue":l[1]||(l[1]=s=>d.value=s),class:"client-modal__search-input",placeholder:"Search clients...","aria-label":"Search clients"},null,512),[[D,d.value]])]),e("div",ot,[(i(!0),c($,null,x(M.value,s=>(i(),c("div",{key:s.id,class:R(["client-modal__item",{"client-modal__item--selected":v(s)}]),role:"listitem"},[e("label",lt,[e("input",{type:"checkbox",checked:v(s),onChange:m=>g(s),class:"client-modal__checkbox"},null,40,nt),e("div",rt,[e("img",{src:s.avatar,alt:s.name,class:"client-modal__avatar",onError:N},null,40,it),e("div",ct,[e("span",dt,h(s.name),1),e("span",ut,h(s.email),1)])])])],2))),128))]),e("footer",{class:"client-modal__footer"},[e("button",{class:"client-modal__done",onClick:V}," Done ")])])])):E("",!0)}},_t=X(mt,[["__scopeId","data-v-1bf714bb"]]),vt={class:"tour-create",role:"main"},pt={class:"tour-create__header"},gt={class:"tour-create__nav"},ht={class:"tour-create__subtitle"},ft={class:"tour-create__profile"},bt={class:"tour-create__user"},yt={key:0,class:"tour-create__loading-skeleton"},kt={key:1,class:"tour-create__content"},Ct={class:"tour-create__title"},wt={class:"tour-create__form-group"},St=["placeholder"],jt={class:"tour-create__datetime-group"},Tt={class:"tour-create__form-group tour-create__form-group--half"},Dt=["min"],$t={class:"tour-create__form-group tour-create__form-group--half"},xt={class:"tour-create__datetime-group"},At={class:"tour-create__form-group tour-create__form-group--half"},Mt=["min"],Nt={class:"tour-create__form-group tour-create__form-group--half"},Et={class:"tour-create__form-group"},Lt={class:"tour-create__form-group"},Vt={class:"tour-create__form-group"},Ut={key:0},qt={key:1},Ft={key:0,class:"tour-create__selected-preview"},It=["src","alt"],Bt={class:"tour-create__selected-name"},Ot=["onClick"],zt={class:"tour-create__form-group"},Pt={key:0},Jt={key:1},Rt={key:0,class:"tour-create__selected-preview"},Ht=["src","alt"],Wt={class:"tour-create__selected-name"},Yt=["onClick"],Kt={class:"tour-create__section"},Gt={class:"tour-create__file-upload"},Qt={key:0,class:"tour-create__file-list"},Xt={class:"tour-create__file-name"},Zt=["onClick"],ea={class:"tour-create__actions"},ta={type:"submit",class:"tour-create__btn tour-create__btn--primary"},aa={class:"tour-create__dialog-title"},sa={class:"tour-create__dialog-text"},oa={key:3,class:"tour-create__error-message"},K="@/assets/images/default-avatar.png",la={__name:"TourCreate",setup(L){const k=$e(),T=xe(),y=Me(),p=r(!1),f=r(null),d=r(!1),_=r(""),a=De({title:"",startDate:"",startTime:"",endDate:"",endTime:"",notes:"",priority:"medium",agents:[],clients:[],attachments:[],status:"scheduled"}),S=r(!1),A=r(!1),M=r([]),N=r([]),v=r([]),g=r([]),b=r(!1),V=r(""),u=r(""),l=r(null),s=r(null),m=r(null),F=r(!1),I=r(!1),C=r({}),Z=()=>{C.value={title:a.title,startDate:a.startDate,startTime:a.startTime,endDate:a.endDate,endTime:a.endTime,notes:a.notes,priority:a.priority,agents:JSON.stringify(a.agents),clients:JSON.stringify(a.clients),attachments:JSON.stringify(a.attachments)},F.value=!1,I.value=!1},ee=()=>a.title.trim()!==""||a.notes.trim()!==""||a.agents.length>0||a.clients.length>0||a.attachments.length>0,te=()=>a.title!==C.value.title||a.startDate!==C.value.startDate||a.startTime!==C.value.startTime||a.endDate!==C.value.endDate||a.endTime!==C.value.endTime||a.notes!==C.value.notes||a.priority!==C.value.priority||JSON.stringify(a.agents)!==C.value.agents||JSON.stringify(a.clients)!==C.value.clients||JSON.stringify(a.attachments)!==C.value.attachments;G(a,()=>{ee()&&te()&&(F.value=!0,I.value=!0)},{deep:!0}),J(()=>{setTimeout(()=>{Z()},100)}),G([p,d],()=>{d.value||setTimeout(()=>{Z()},100)});const ae=()=>{ee()&&te()&&(I.value=!0,F.value=!0)},H=r(null);let U=r(!1);J(()=>{H.value=k.beforeEach((ne,P,B)=>{if(U.value){U.value=!1,B();return}if(I.value)return le("Unsaved Changes","You have made changes to this form. Do you want to save as draft before leaving?",()=>{W().then(()=>{U.value=!0,B()}).catch(()=>{B(!1)})},()=>{U.value=!0,B()}),!1;B()}),a.startDate=z.value,a.endDate=z.value;const o=new Date,t=o.getHours().toString().padStart(2,"0"),n=o.getMinutes().toString().padStart(2,"0");a.startTime=`${t}:${n}`;const j=(o.getHours()+1)%24;a.endTime=`${j.toString().padStart(2,"0")}:${n}`}),J(async()=>{d.value=!0,_.value="";try{if(M.value=[],N.value=[],console.log("Checking route params:",T.params),T.params.id){p.value=!0,f.value=T.params.id;const o=await y.getTourById(f.value);o?(a.title=o.title||"",a.startDate=o.startDate?o.startDate.split("T")[0]:"",a.startTime=o.startTime||"",a.endDate=o.endDate?o.endDate.split("T")[0]:"",a.endTime=o.endTime||"",a.notes=o.notes||"",a.priority=o.priority||"medium",a.agents=o.agents||[],a.clients=o.clients||[],a.attachments=o.attachments||[],a.status=o.status||"scheduled",v.value=M.value.filter(t=>a.agents.includes(t.id)),g.value=N.value.filter(t=>a.clients.includes(t.id))):_.value="Tour not found."}}catch(o){console.error("Error initializing tour form:",o),_.value="Failed to load tour data or resources. Please try again."}finally{d.value=!1}});const de=()=>{I.value?le("Unsaved Changes","You have made changes to this form. Do you want to save as draft before leaving?",()=>{W().then(()=>{U.value=!0,k.go(-1)})},()=>{U.value=!0,k.go(-1)}):k.go(-1)},ue=()=>{S.value=!0},me=()=>{S.value=!1},_e=o=>{v.value.some(t=>t.id===o.id)||(v.value.push(o),a.agents=v.value.map(t=>t.id))},se=o=>{v.value=v.value.filter(t=>t.id!==o.id),a.agents=v.value.map(t=>t.id)},ve=()=>{A.value=!0},pe=()=>{A.value=!1},ge=o=>{g.value.some(t=>t.id===o.id)||(g.value.push(o),a.clients=g.value.map(t=>t.id))},oe=o=>{g.value=g.value.filter(t=>t.id!==o.id),a.clients=g.value.map(t=>t.id)},he=()=>{m.value.click()},fe=o=>{Array.from(o.target.files).forEach(n=>{const j=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".txt",".jpg",".jpeg",".png",".gif",".zip",".rar"];if(a.attachments.some(P=>P.name===n.name)){alert(`File "${n.name}" is already added.`);return}if(!j.some(P=>n.name.toLowerCase().endsWith(P))){alert(`File type for "${n.name}" is not allowed.`);return}if(n.size>5242880){alert(`File "${n.name}" exceeds the size limit of 5MB.`);return}a.attachments.push({name:n.name,size:n.size,type:n.type})}),m.value.value=""},be=o=>{a.attachments.splice(o,1)},ye=async()=>{d.value=!0,_.value="";const o={title:a.title,startDate:a.startDate,startTime:a.startTime,endDate:a.endDate,endTime:a.endTime,notes:a.notes,priority:a.priority,status:a.status,agents:v.value.map(t=>t.id),clients:g.value.map(t=>t.id),attachments:a.attachments};try{let t=null;p.value?await y.updateTour(f.value,o)?k.push(`/tours/${f.value}`):_.value="Failed to update tour. Please try again.":(o.status="scheduled",t=await y.createTour(o),t?k.push("/tours"):_.value="Failed to create tour. Please try again.")}catch(t){console.error("Error submitting tour:",t),_.value=`An error occurred: ${t.message||"Please try again."}`}finally{d.value=!1}},W=async()=>{d.value=!0,_.value="";const o={title:a.title,startDate:a.startDate,startTime:a.startTime,endDate:a.endDate,endTime:a.endTime,notes:a.notes,priority:a.priority,agents:v.value.map(t=>t.id),clients:g.value.map(t=>t.id),attachments:a.attachments,status:"draft"};try{let t=null;if(p.value&&a.status==="draft")if(await y.updateTour(f.value,o))t=f.value;else{_.value="Failed to update draft. Please try again.",d.value=!1;return}else t=await y.createTour(o);t?k.push("/tours/drafts"):_.value="Failed to save draft. Please try again."}catch(t){console.error("Error saving draft:",t),_.value=`An error occurred while saving draft: ${t.message||"Please try again."}`}finally{d.value=!1}},le=(o,t,n,j)=>{V.value=o,u.value=t,l.value=n,s.value=j,b.value=!0},ke=()=>{b.value=!1},Ce=()=>{b.value=!1,s.value&&s.value()},we=()=>{b.value=!1,l.value&&l.value()},Y=o=>{o.target.src=K};Ae(()=>{H.value&&H.value()});const z=O(()=>new Date().toISOString().split("T")[0]);return(o,t)=>(i(),c("main",vt,[e("header",pt,[e("div",gt,[e("button",{class:"tour-create__back",onClick:de,"aria-label":"Back to tours"},[t[8]||(t[8]=e("span",{class:"tour-create__back-arrow"},"<",-1)),ie(" "+h(p.value?"Edit tour":"Create new tour"),1)]),e("div",ht,h(p.value?"Update your tour details and save changes":"Schedule a new property tour"),1)]),e("div",ft,[t[11]||(t[11]=ce('<button class="tour-create__icon-btn" aria-label="Messages" data-v-bcfebb1f><svg class="tour-create__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-bcfebb1f><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-bcfebb1f></path></svg></button><button class="tour-create__icon-btn" aria-label="Notifications" data-v-bcfebb1f><svg class="tour-create__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-v-bcfebb1f><path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" data-v-bcfebb1f></path></svg></button>',2)),e("div",bt,[e("img",{src:"https://res.cloudinary.com/dnuhjsckk/image/upload/v1739408381/Screenshot_2025-02-13_015617_mhjgby.png",alt:"Profile",class:"tour-create__avatar",onError:Y},null,32),t[9]||(t[9]=e("span",{class:"tour-create__username"},"Alex Dunia",-1)),t[10]||(t[10]=e("svg",{class:"tour-create__dropdown-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]),d.value?(i(),c("div",yt,t[12]||(t[12]=[ce('<div class="tour-create__skeleton-title" data-v-bcfebb1f></div><div class="tour-create__skeleton-form" data-v-bcfebb1f><div class="tour-create__skeleton-group" data-v-bcfebb1f><div class="tour-create__skeleton-label" data-v-bcfebb1f></div><div class="tour-create__skeleton-input" data-v-bcfebb1f></div></div><div class="tour-create__skeleton-group" data-v-bcfebb1f><div class="tour-create__skeleton-label" data-v-bcfebb1f></div><div class="tour-create__skeleton-input" data-v-bcfebb1f></div></div><div class="tour-create__skeleton-group" data-v-bcfebb1f><div class="tour-create__skeleton-label" data-v-bcfebb1f></div><div class="tour-create__skeleton-input" data-v-bcfebb1f></div></div><div class="tour-create__skeleton-group" data-v-bcfebb1f><div class="tour-create__skeleton-label" data-v-bcfebb1f></div><div class="tour-create__skeleton-textarea" data-v-bcfebb1f></div></div><div class="tour-create__skeleton-group" data-v-bcfebb1f><div class="tour-create__skeleton-label" data-v-bcfebb1f></div><div class="tour-create__skeleton-select" data-v-bcfebb1f></div></div><div class="tour-create__skeleton-group" data-v-bcfebb1f><div class="tour-create__skeleton-label" data-v-bcfebb1f></div><div class="tour-create__skeleton-cards" data-v-bcfebb1f></div></div></div>',2)]))):(i(),c("section",kt,[e("h1",Ct,h(p.value?"Edit tour":"Create a tour"),1),e("form",{class:"tour-create__form",onSubmit:q(ye,["prevent"]),role:"form",onChange:ae,onInput:ae},[e("div",wt,[t[13]||(t[13]=e("label",{for:"tourName",class:"tour-create__label"},"Name of tour",-1)),w(e("input",{type:"text",id:"tourName","onUpdate:modelValue":t[0]||(t[0]=n=>a.title=n),class:"tour-create__input",placeholder:p.value?"Edit tour name":"Luxury Condo Showing",required:"","aria-required":"true"},null,8,St),[[D,a.title]])]),e("div",jt,[e("div",Tt,[t[14]||(t[14]=e("label",{for:"startDate",class:"tour-create__label"},"Start date",-1)),w(e("input",{type:"date",id:"startDate","onUpdate:modelValue":t[1]||(t[1]=n=>a.startDate=n),min:z.value,class:"tour-create__input",required:"","aria-required":"true"},null,8,Dt),[[D,a.startDate]])]),e("div",$t,[t[15]||(t[15]=e("label",{for:"startTime",class:"tour-create__label"},"Start time",-1)),w(e("input",{type:"time",id:"startTime","onUpdate:modelValue":t[2]||(t[2]=n=>a.startTime=n),class:"tour-create__input",required:"","aria-required":"true"},null,512),[[D,a.startTime]])])]),e("div",xt,[e("div",At,[t[16]||(t[16]=e("label",{for:"endDate",class:"tour-create__label"},"End date",-1)),w(e("input",{type:"date",id:"endDate","onUpdate:modelValue":t[3]||(t[3]=n=>a.endDate=n),min:a.startDate||z.value,class:"tour-create__input",required:"","aria-required":"true"},null,8,Mt),[[D,a.endDate]])]),e("div",Nt,[t[17]||(t[17]=e("label",{for:"endTime",class:"tour-create__label"},"End time",-1)),w(e("input",{type:"time",id:"endTime","onUpdate:modelValue":t[4]||(t[4]=n=>a.endTime=n),class:"tour-create__input",required:"","aria-required":"true"},null,512),[[D,a.endTime]])])]),e("div",Et,[t[19]||(t[19]=e("label",{for:"priority",class:"tour-create__label"},"Priority status",-1)),w(e("select",{id:"priority","onUpdate:modelValue":t[5]||(t[5]=n=>a.priority=n),class:"tour-create__select",required:"","aria-required":"true"},t[18]||(t[18]=[e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)]),512),[[Q,a.priority]])]),e("div",Lt,[t[20]||(t[20]=e("label",{for:"tourNotes",class:"tour-create__label"},"Tour Notes (Optional)",-1)),w(e("textarea",{id:"tourNotes","onUpdate:modelValue":t[6]||(t[6]=n=>a.notes=n),class:"tour-create__textarea",placeholder:"Client interested in kitchen layout, check availability of garage...",rows:"4"},null,512),[[D,a.notes]])]),e("div",Vt,[t[21]||(t[21]=e("label",{for:"agent",class:"tour-create__label"},"Add agent(s)",-1)),e("div",{class:"tour-create__select-trigger",onClick:ue},[v.value.length>0?(i(),c("span",Ut,h(v.value.length===1?v.value[0].name:`${v.value.length} agents selected`),1)):(i(),c("span",qt,"Select agents participating in the tour"))]),v.value.length>0?(i(),c("div",Ft,[(i(!0),c($,null,x(v.value,n=>(i(),c("div",{key:n.id,class:"tour-create__selected-item"},[e("img",{src:n.avatar||K,alt:n.name,class:"tour-create__selected-avatar",onError:Y},null,40,It),e("span",Bt,h(n.name),1),e("button",{type:"button",class:"tour-create__selected-remove",onClick:q(j=>se(n),["stop"]),"aria-label":"Remove agent"}," × ",8,Ot)]))),128))])):E("",!0)]),e("div",zt,[t[22]||(t[22]=e("label",{for:"client",class:"tour-create__label"},"Add client(s)",-1)),e("div",{class:"tour-create__select-trigger",onClick:ve},[g.value.length>0?(i(),c("span",Pt,h(g.value.length===1?g.value[0].name:`${g.value.length} clients selected`),1)):(i(),c("span",Jt,"Select clients attending the tour"))]),g.value.length>0?(i(),c("div",Rt,[(i(!0),c($,null,x(g.value,n=>(i(),c("div",{key:n.id,class:"tour-create__selected-item"},[e("img",{src:n.avatar||K,alt:n.name,class:"tour-create__selected-avatar",onError:Y},null,40,Ht),e("span",Wt,h(n.name),1),e("button",{type:"button",class:"tour-create__selected-remove",onClick:q(j=>oe(n),["stop"]),"aria-label":"Remove client"}," × ",8,Yt)]))),128))])):E("",!0)]),e("div",Kt,[t[24]||(t[24]=e("h3",{class:"tour-create__section-title"},"Attachments",-1)),e("div",Gt,[e("input",{type:"file",ref_key:"fileInput",ref:m,onChange:fe,multiple:"",class:"tour-create__file-input",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif,.zip,.rar"},null,544),e("button",{type:"button",class:"tour-create__upload-btn",onClick:he},t[23]||(t[23]=[e("svg",{class:"tour-create__upload-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),ie(" Upload Files ")]))]),a.attachments.length>0?(i(),c("div",Qt,[(i(!0),c($,null,x(a.attachments,(n,j)=>(i(),c("div",{key:j,class:"tour-create__file-item"},[e("span",Xt,h(n.name),1),e("button",{type:"button",class:"tour-create__file-remove",onClick:ne=>be(j),"aria-label":"Remove file"}," × ",8,Zt)]))),128))])):E("",!0)]),e("div",ea,[e("button",{type:"button",class:"tour-create__btn tour-create__btn--secondary",onClick:W},"Save as Draft"),e("button",ta,h(p.value?"Update Tour":"Create Tour"),1)])],32)])),re(Ge,{show:S.value,agents:M.value,"selected-agents":v.value,onClose:me,onSelect:_e,onRemove:se},null,8,["show","agents","selected-agents"]),re(_t,{show:A.value,clients:N.value,"selected-clients":g.value,onClose:pe,onSelect:ge,onRemove:oe},null,8,["show","clients","selected-clients"]),b.value?(i(),c("div",{key:2,class:"tour-create__dialog-overlay",onClick:ke},[e("div",{class:"tour-create__dialog",onClick:t[7]||(t[7]=q(()=>{},["stop"]))},[e("h3",aa,h(V.value),1),e("p",sa,h(u.value),1),e("div",{class:"tour-create__dialog-actions"},[e("button",{class:"tour-create__dialog-btn tour-create__dialog-btn--secondary",onClick:Ce},"No"),e("button",{class:"tour-create__dialog-btn tour-create__dialog-btn--primary",onClick:we},"Yes")])])])):E("",!0),_.value?(i(),c("div",oa,h(_.value),1)):E("",!0)]))}},ca=X(la,[["__scopeId","data-v-bcfebb1f"]]);export{ca as default};
