import{r as m,c as k,b as n,e,v as S,l as d,I as A,L as T,F as p,f as h,s as H,m as N,i as r,n as y,t as l}from"./vendor.Bh3_gxHF.js";import{u as R}from"./documents.CHcazOjv.js";import{_ as j}from"./index.Cv61STol.js";const F={class:"view-docs"},P={class:"page-header"},U={class:"header-content"},q={class:"header-actions"},E={class:"filters"},I={class:"search-box"},O={class:"filter-buttons"},Q=["onClick"],G={class:"documents-grid"},J={class:"document-header"},K={class:"document-date"},W={class:"document-preview"},X=["src"],Y={key:1,class:"no-photo"},Z={class:"document-content"},ee={class:"document-title"},te={class:"document-details"},se={class:"document-actions"},oe=["onClick"],ne=["onClick"],re=["onClick"],le={class:"modal-container"},ae={class:"modal-header"},ie={class:"modal-body"},ce={class:"document-type-grid"},ue=["onClick"],de={class:"type-icon"},ve={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},me={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pe={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},he={__name:"ViewDocs",setup(we){const v=N(),w=R(),u=m(""),a=m([]),i=m(!1),g=["buyer-rep","seller-rep","mls"],b=k(()=>w.documents),C=k(()=>{let s=b.value;if(u.value){const t=u.value.toLowerCase();s=s.filter(o=>[f(o),_(o),o.type].join(" ").toLowerCase().includes(t))}return a.value.length>0&&(s=s.filter(t=>a.value.includes(t.type))),s}),D=s=>{const t=a.value.indexOf(s);t===-1?a.value.push(s):a.value.splice(t,1)},x=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=s=>{switch(s.type){case"buyer-rep":return`${s.buyerName}'s Buyer Rep Agreement`;case"seller-rep":return`${s.sellerName}'s Seller Rep Agreement`;case"mls":return`MLS Listing - ${s.propertyAddress}`;default:return"Untitled Document"}},_=s=>{switch(s.type){case"buyer-rep":case"seller-rep":return`Budget: ${s.budgetRange} | Property Type: ${s.propertyType}`;case"mls":return`${s.bedrooms} beds | ${s.bathrooms} baths | ${s.squareFootage}`;default:return""}},M=s=>{console.log("Viewing document:",s)},V=s=>{console.log("Downloading document:",s)},$=async s=>{if(confirm("Are you sure you want to delete this document?"))try{await w.deleteDocument(s.id)}catch(t){console.error("Error deleting document:",t)}},z=s=>{switch(s){case"buyer-rep":return"Buyer Rep Agreement";case"seller-rep":return"Seller Rep Agreement";case"mls":return"MLS Listing";default:return s}},B=s=>{switch(s){case"buyer-rep":return"Create a new buyer representation agreement";case"seller-rep":return"Create a new seller representation agreement";case"mls":return"Create a new MLS listing";default:return""}},L=s=>{switch(i.value=!1,s){case"buyer-rep":v.push("/receipts-docs/buyer-rep");break;case"seller-rep":v.push("/receipts-docs/seller-rep");break;case"mls":v.push("/receipts-docs/mls");break}};return(s,t)=>(r(),n("div",F,[e("div",P,[e("div",U,[t[5]||(t[5]=e("h1",null,"Documents",-1)),e("div",q,[e("button",{onClick:t[0]||(t[0]=o=>i.value=!0),class:"create-button"},t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),d(" Create Document ")]))])])]),e("div",E,[e("div",I,[A(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),placeholder:"Search documents...",class:"search-input"},null,512),[[T,u.value]])]),e("div",O,[(r(),n(p,null,h(g,o=>e("button",{key:o,onClick:c=>D(o),class:y(["filter-button",{active:a.value.includes(o)}])},l(o),11,Q)),64))])]),e("div",G,[(r(!0),n(p,null,h(C.value,o=>(r(),n("div",{key:o.id,class:"document-card"},[e("div",J,[e("span",{class:y(["document-type",o.type])},l(o.type),3),e("span",K,l(x(o.createdAt)),1)]),e("div",W,[o.coverPhoto?(r(),n("img",{key:0,src:o.coverPhoto,alt:"Document cover",class:"cover-photo"},null,8,X)):(r(),n("div",Y,t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),e("div",Z,[e("h3",ee,l(f(o)),1),e("p",te,l(_(o)),1)]),e("div",se,[e("button",{onClick:c=>M(o),class:"action-button view"},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1),d(" View ")]),8,oe),e("button",{onClick:c=>V(o),class:"action-button download"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),d(" Download ")]),8,ne),e("button",{onClick:c=>$(o),class:"action-button delete"},t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),d(" Delete ")]),8,re)])]))),128))]),i.value?(r(),n("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=H(o=>i.value=!1,["self"]))},[e("div",le,[e("div",ae,[t[10]||(t[10]=e("h3",null,"Create New Document",-1)),e("button",{onClick:t[2]||(t[2]=o=>i.value=!1),class:"modal-close"},"Ã—")]),e("div",ie,[e("div",ce,[(r(),n(p,null,h(g,o=>e("div",{key:o,class:"document-type-card",onClick:c=>L(o)},[e("div",de,[o==="buyer-rep"?(r(),n("svg",ve,t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]))):o==="seller-rep"?(r(),n("svg",me,t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1)]))):(r(),n("svg",pe,t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])))]),e("h4",null,l(z(o)),1),e("p",null,l(B(o)),1)],8,ue)),64))])])])])):S("",!0)]))}},ke=j(he,[["__scopeId","data-v-a57cf006"]]);export{ke as default};
